<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 High-level principles | Fluent Graphics</title>
  <meta name="description" content="5 High-level principles | Fluent Graphics" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="5 High-level principles | Fluent Graphics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 High-level principles | Fluent Graphics" />
  
  
  

<meta name="author" content="Adam Bartonicek" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="problem-set.html"/>
<link rel="next" href="system-description.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Abstract</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#brief-history-of-interactive-data-visualization"><i class="fa fa-check"></i><b>2.1</b> Brief history of interactive data visualization</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction.html"><a href="introduction.html#static-data-visualization-from-ancient-times-to-the-space-age"><i class="fa fa-check"></i><b>2.1.1</b> Static data visualization: From ancient times to the space age</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction.html"><a href="introduction.html#early-interactive"><i class="fa fa-check"></i><b>2.1.2</b> Early interactive data visualization: By statisticians for statisticians</a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction.html"><a href="introduction.html#interactive-data-visualization-and-the-web-world-wide-interactivity"><i class="fa fa-check"></i><b>2.1.3</b> Interactive data visualization and the Web: World-wide interactivity</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#what-is-interactive-visualization"><i class="fa fa-check"></i><b>2.2</b> What even is interactive data visualization?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction.html"><a href="introduction.html#interactive-vs.-interacting-with"><i class="fa fa-check"></i><b>2.2.1</b> Interactive vs. interacting with</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction.html"><a href="introduction.html#what-is-interactive-enough"><i class="fa fa-check"></i><b>2.2.2</b> What is “interactive enough”?</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction.html"><a href="introduction.html#complexity-of-interactive-features"><i class="fa fa-check"></i><b>2.2.3</b> Complexity of interactive features</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction.html"><a href="introduction.html#working-definition"><i class="fa fa-check"></i><b>2.2.4</b> Working definition</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction.html"><a href="introduction.html#brief-taxonomy-of-common-interactive-features"><i class="fa fa-check"></i><b>2.2.5</b> Brief taxonomy of common interactive features</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#the-highlighting-problem"><i class="fa fa-check"></i><b>2.3</b> The highlighting problem</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction.html"><a href="introduction.html#linked-selection-and-stacking"><i class="fa fa-check"></i><b>2.3.1</b> Linked selection and stacking</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#theory-of-data-visualization-systems"><i class="fa fa-check"></i><b>2.4</b> Theory of data visualization systems</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction.html"><a href="introduction.html#scales"><i class="fa fa-check"></i><b>2.4.1</b> Scales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="goals-and-principles.html"><a href="goals-and-principles.html"><i class="fa fa-check"></i><b>3</b> Goals and Principles</a>
<ul>
<li class="chapter" data-level="3.1" data-path="goals-and-principles.html"><a href="goals-and-principles.html#user-profile"><i class="fa fa-check"></i><b>3.1</b> User profile</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="problem-set.html"><a href="problem-set.html"><i class="fa fa-check"></i><b>4</b> Problem Set</a>
<ul>
<li class="chapter" data-level="4.1" data-path="problem-set.html"><a href="problem-set.html#data-visualization-pipeline"><i class="fa fa-check"></i><b>4.1</b> Data visualization pipeline</a></li>
<li class="chapter" data-level="4.2" data-path="problem-set.html"><a href="problem-set.html#partitioning"><i class="fa fa-check"></i><b>4.2</b> Partitioning</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="problem-set.html"><a href="problem-set.html#showing-the-full-data"><i class="fa fa-check"></i><b>4.2.1</b> Showing the full data</a></li>
<li class="chapter" data-level="4.2.2" data-path="problem-set.html"><a href="problem-set.html#disjointness-and-comparison"><i class="fa fa-check"></i><b>4.2.2</b> Disjointness and comparison</a></li>
<li class="chapter" data-level="4.2.3" data-path="problem-set.html"><a href="problem-set.html#plots-as-partitions"><i class="fa fa-check"></i><b>4.2.3</b> Plots as partitions</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="problem-set.html"><a href="problem-set.html#aggregation"><i class="fa fa-check"></i><b>4.3</b> Aggregation</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="problem-set.html"><a href="problem-set.html#graphics-and-statistics-are-not-independent"><i class="fa fa-check"></i><b>4.3.1</b> Graphics and statistics are not independent</a></li>
<li class="chapter" data-level="4.3.2" data-path="problem-set.html"><a href="problem-set.html#stackable-summaries"><i class="fa fa-check"></i><b>4.3.2</b> Stackable summaries</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="problem-set.html"><a href="problem-set.html#scaling"><i class="fa fa-check"></i><b>4.4</b> Scaling</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="problem-set.html"><a href="problem-set.html#theory-of-scales"><i class="fa fa-check"></i><b>4.4.1</b> Theory of scales</a></li>
<li class="chapter" data-level="4.4.2" data-path="problem-set.html"><a href="problem-set.html#scales-in-practice"><i class="fa fa-check"></i><b>4.4.2</b> Scales in practice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="high-level-principles.html"><a href="high-level-principles.html"><i class="fa fa-check"></i><b>5</b> High-level principles</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="high-level-principles.html"><a href="high-level-principles.html#user-profile-1"><i class="fa fa-check"></i><b>5.0.1</b> User profile</a></li>
<li class="chapter" data-level="5.1" data-path="high-level-principles.html"><a href="high-level-principles.html#programming-paradigm"><i class="fa fa-check"></i><b>5.1</b> Programming paradigm</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="high-level-principles.html"><a href="high-level-principles.html#imperative-programming"><i class="fa fa-check"></i><b>5.1.1</b> Imperative programming</a></li>
<li class="chapter" data-level="5.1.2" data-path="high-level-principles.html"><a href="high-level-principles.html#functional-programming"><i class="fa fa-check"></i><b>5.1.2</b> Functional programming</a></li>
<li class="chapter" data-level="5.1.3" data-path="high-level-principles.html"><a href="high-level-principles.html#object-oriented-programming"><i class="fa fa-check"></i><b>5.1.3</b> Object oriented programming</a></li>
<li class="chapter" data-level="5.1.4" data-path="high-level-principles.html"><a href="high-level-principles.html#data-oriented-programming"><i class="fa fa-check"></i><b>5.1.4</b> Data oriented programming</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="high-level-principles.html"><a href="high-level-principles.html#reactivity"><i class="fa fa-check"></i><b>5.2</b> Reactivity</a></li>
<li class="chapter" data-level="5.3" data-path="high-level-principles.html"><a href="high-level-principles.html#data-representation"><i class="fa fa-check"></i><b>5.3</b> Data representation</a></li>
<li class="chapter" data-level="5.4" data-path="high-level-principles.html"><a href="high-level-principles.html#rendering-engine"><i class="fa fa-check"></i><b>5.4</b> Rendering engine</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="system-description.html"><a href="system-description.html"><i class="fa fa-check"></i><b>6</b> System description</a>
<ul>
<li class="chapter" data-level="6.1" data-path="system-description.html"><a href="system-description.html#core-requirements"><i class="fa fa-check"></i><b>6.1</b> Core requirements</a></li>
<li class="chapter" data-level="6.2" data-path="system-description.html"><a href="system-description.html#components"><i class="fa fa-check"></i><b>6.2</b> Components</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="system-description.html"><a href="system-description.html#Indexable"><i class="fa fa-check"></i><b>6.2.1</b> Indexable</a></li>
<li class="chapter" data-level="6.2.2" data-path="system-description.html"><a href="system-description.html#Getter"><i class="fa fa-check"></i><b>6.2.2</b> Getter</a></li>
<li class="chapter" data-level="6.2.3" data-path="system-description.html"><a href="system-description.html#dataframe"><i class="fa fa-check"></i><b>6.2.3</b> Dataframe</a></li>
<li class="chapter" data-level="6.2.4" data-path="system-description.html"><a href="system-description.html#reactive"><i class="fa fa-check"></i><b>6.2.4</b> Reactive</a></li>
<li class="chapter" data-level="6.2.5" data-path="system-description.html"><a href="system-description.html#factors"><i class="fa fa-check"></i><b>6.2.5</b> Factors</a></li>
<li class="chapter" data-level="6.2.6" data-path="system-description.html"><a href="system-description.html#reducers"><i class="fa fa-check"></i><b>6.2.6</b> Reducers</a></li>
<li class="chapter" data-level="6.2.7" data-path="system-description.html"><a href="system-description.html#scales-1"><i class="fa fa-check"></i><b>6.2.7</b> Scales</a></li>
<li class="chapter" data-level="6.2.8" data-path="system-description.html"><a href="system-description.html#expanses"><i class="fa fa-check"></i><b>6.2.8</b> Expanses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="applied-examples.html"><a href="applied-examples.html"><i class="fa fa-check"></i><b>7</b> Applied examples</a></li>
<li class="chapter" data-level="8" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>8</b> Discussion</a></li>
<li class="chapter" data-level="9" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>9</b> Glossary</a></li>
<li class="chapter" data-level="10" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>10</b> Appendix</a></li>
<li class="chapter" data-level="11" data-path="mathematical-theory.html"><a href="mathematical-theory.html"><i class="fa fa-check"></i><b>11</b> Mathematical theory</a>
<ul>
<li class="chapter" data-level="11.0.1" data-path="mathematical-theory.html"><a href="mathematical-theory.html#relations"><i class="fa fa-check"></i><b>11.0.1</b> Relations</a></li>
<li class="chapter" data-level="11.0.2" data-path="mathematical-theory.html"><a href="mathematical-theory.html#functions"><i class="fa fa-check"></i><b>11.0.2</b> Functions</a></li>
<li class="chapter" data-level="11.0.3" data-path="mathematical-theory.html"><a href="mathematical-theory.html#partitions"><i class="fa fa-check"></i><b>11.0.3</b> Partitions</a></li>
<li class="chapter" data-level="11.0.4" data-path="mathematical-theory.html"><a href="mathematical-theory.html#preorders"><i class="fa fa-check"></i><b>11.0.4</b> Preorders</a></li>
<li class="chapter" data-level="11.0.5" data-path="mathematical-theory.html"><a href="mathematical-theory.html#monoids"><i class="fa fa-check"></i><b>11.0.5</b> Monoids</a></li>
<li class="chapter" data-level="11.0.6" data-path="mathematical-theory.html"><a href="mathematical-theory.html#groups"><i class="fa fa-check"></i><b>11.0.6</b> Groups</a></li>
<li class="chapter" data-level="11.0.7" data-path="mathematical-theory.html"><a href="mathematical-theory.html#categories"><i class="fa fa-check"></i><b>11.0.7</b> Categories</a></li>
<li class="chapter" data-level="11.0.8" data-path="mathematical-theory.html"><a href="mathematical-theory.html#functors"><i class="fa fa-check"></i><b>11.0.8</b> Functors</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>12</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fluent Graphics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="high-level-principles" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> High-level principles<a href="high-level-principles.html#high-level-principles" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<blockquote>
<p>“Designing is fundamentally about taking things apart […] in such a way that they can be put back together. Separating things into things that can be composed.”</p>
<p>Rich Hickey <span class="citation">(<a href="#ref-hickey2013">2013</a>)</span></p>
</blockquote>
<p>This section contains a description of some of the high-level design decisions that went into making the system.</p>
<blockquote>
<p>The example code chunks in this section are written in both R and TypeScript. While I would prefer to use R for all code examples, due to its tight integration with RMarkdown, some of the concepts are much easier to explain in a language with static typing like TypeScript (particularly, type annotations and interfaces). However, since some examples can also be greatly enhanced by graphical output, I also wanted to use R.</p>
<p>So, where graphical output is important, the code examples are written in R, and, where the code itself is the main focus, they are written in TypeScript. I hope this bilingualism is not too confusing. I have tried to use only the core features of each language to make the examples clear.</p>
</blockquote>
<div id="user-profile-1" class="section level3 hasAnchor" number="5.0.1">
<h3><span class="header-section-number">5.0.1</span> User profile<a href="high-level-principles.html#user-profile-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When designing an interactive data visualization system, one important consideration is the profile of the average user. Among interactive data visualization systems, there can be significant differences in what the user is expected to know, across various implementations and research areas. For example, some general interactive data visualization systems make almost no assumptions about the user’s level of experience or motivation, whereas others assume a highly motivated “expert” user with a sufficient level of domain knowledge <span class="citation">(<a href="#ref-dimara2019">Dimara and Perin 2019</a>)</span>.</p>
<p>The goal of the project was to design a fairly versatile system for general data exploration. As such, the system was designed in such a way to make it possible for someone with fairly modest data science skills to pick up and make decent use of its basic features. At the same time, I also wanted to provide some more advanced features that experienced users could make use of.</p>
<p>[Give examples].</p>
</div>
<div id="programming-paradigm" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Programming paradigm<a href="high-level-principles.html#programming-paradigm" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<blockquote>
<p>“Apex predator of Grug is complexity. Complexity bad. Say again: complexity very bad.
You say now: complexity very, very bad. Given choice between complexity or one on one
against T-rex, Grug take T-rex: at least grug see T-rex.”</p>
<p>The Grug Brained Developer, <span class="citation">Gross (<a href="#ref-gross2024">2024</a>)</span></p>
</blockquote>
<p>It is often the case that single programming task can often be solved in many different ways, each with its own set of trade-offs. These trade-offs affect factors like performance, readability, reliability, and maintainability. With regards to these trade-offs, one of the most fundamental decisions is the choice of a programming paradigm.</p>
<p>Programming paradigms provide a set of high-level guidelines for thinking about and solving programming problems. They offer distinct approaches to issues such as data representation, code organization, and control flow. Underlying these are philosophical differences on topics such as data mutability, the fundamental unit of computation. These differences can produce programs of radically different shapes and styles.</p>
<p>However, all programming paradigms ultimately share one fundamental concern: complexity <span class="citation">(<a href="#ref-booch2008">Booch et al. 2008</a>)</span>. Every programming problem comes with some inherent level of complexity. Without careful thought and constant effort, software has the tendency to grow out of scope and becomes unmanageable <span class="citation">(<a href="#ref-moseley2006">Moseley and Marks 2006</a>)</span>. Thus, all programming paradigms provide answers to the fundamental problem of complexity, each in their own idiosyncratic way <span class="citation">(<a href="#ref-chambers2014">Chambers 2014</a>; <a href="#ref-jordan2015">Jordan et al. 2015</a>; <a href="#ref-moseley2006">Moseley and Marks 2006</a>; <a href="#ref-van2009">Van Roy et al. 2009</a>)</span>.</p>
<p>Most programming languages are geared towards one specific programming paradigm, and typically support only one or two to a reasonable capacity <span class="citation">(<a href="#ref-van2009">Van Roy et al. 2009</a>)</span>. Fortunately, this is not the case for either JavaScript/TypeScript or R, since both are multiparadigm programming languages <span class="citation">(<a href="#ref-chambers2014">Chambers 2014</a>; <a href="#ref-mdn2024c">MDN 2024f</a>)</span>. Both languages support object-oriented programming, via prototype inheritance in the case of JavaScript <span class="citation">(<a href="#ref-mdn2024d">MDN 2024b</a>)</span> and the S3, S4, and R6 systems in the case of R <span class="citation">(<a href="#ref-wickham2019">Wickham 2019</a>)</span>, and treat functions as first class citizens, allowing for functional programming style <span class="citation">(<a href="#ref-chambers2014">Chambers 2014</a>; <a href="#ref-mdn2024e">MDN 2024d</a>)</span>. Further, as C based languages, both also support classical imperative/procedural programming style, and also provide some utilities for reflective metaprogramming.</p>
<p>The flexibility of JavaScript and R had allowed me to experiment with different programming paradigms while developing my interactive data visualization package. I have rewritten the JavaScript side of the package multiple times from scratch, testing out several different programming paradigms and styles in the process. Below, I provide a rough sketch of the paradigms I have sampled, as well as an account of my experience of using each paradigm and some thoughts on its suitability for designing interactive data visualization systems.</p>
<div id="imperative-programming" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Imperative programming<a href="high-level-principles.html#imperative-programming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Imperative programming is one of the oldest and most classical programming paradigms. It conceptualizes the program as a sequence of discrete steps that manipulate some mutable state <span class="citation">(<a href="#ref-frame2014">Frame and Coffey 2014</a>)</span>. In this way, it closely resembles the way computer programs get executed on the underlying hardware <span class="citation">(barring some advanced techniques such as branch prediction and speculative execution, the CPU executes instructions sequentially, see e.g. <a href="#ref-parihar2015">Parihar 2015</a>; <a href="#ref-raghavan1998">Raghavan, Shachnai, and Yaniv 1998</a>)</span>.</p>
</div>
<div id="functional-programming" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Functional programming<a href="high-level-principles.html#functional-programming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="object-oriented-programming" class="section level3 hasAnchor" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Object oriented programming<a href="high-level-principles.html#object-oriented-programming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Object oriented programming (OOP) is a widely used programming paradigm. It first appeared in the late 1950’s and early 1960’s, with languages like Simula and Smalltalk <span class="citation">(<a href="#ref-black2013">Black 2013</a>)</span>. It then grew to prominence in the 1980’s and 1990’s, eventually becoming an industry standard.</p>
<p>While there are may different interpretations of OOP, there are several concepts which tend to be shared by most implementations. The core idea of OOP is that programs should be modeled as networks of objects: independent units of computation which bundle related data (properties, members) and code (methods, virtual functions) together <span class="citation">(<a href="#ref-booch2008">Booch et al. 2008</a>)</span>. Objects are self-contained, and own hidden, private state; they expose only a limited public interface. To communicate with each other, objects send each other messages <span class="citation">(<a href="#ref-meyer1997">Meyer 1997</a>)</span>. In this way, they behave similarly to networks of biological cells <span class="citation">(this was the inspiration for Alan Kay, one of the creators of Smalltalk, who also coined the term “object oriented,” <a href="#ref-kay1996">Kay 1996</a>)</span>.</p>
<p>Each object is instantiated based on a class, a sort of a blueprint which provides the object with a type as well as implementation of its methods. Classes can be associated with each other in various ways. For example, a class may inherit methods and properties from a parent class (superclass), such that it can make use of the parent’s implementation. Alternatively, a class may be composed of other classes, by having their instances as properties.</p>
<p>Here’s a basic example one might see in an introductory OOP text-book (for some reasons, animals are a popular metaphor in introductory OOP texts). We start with a base class <code>Animal</code>:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb12-1"><a href="high-level-principles.html#cb12-1" tabindex="-1"></a><span class="co">// Animal.ts</span></span>
<span id="cb12-2"><a href="high-level-principles.html#cb12-2" tabindex="-1"></a><span class="kw">type</span> Food <span class="op">=</span> { nutrition<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb12-3"><a href="high-level-principles.html#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="high-level-principles.html#cb12-4" tabindex="-1"></a><span class="im">export</span> <span class="kw">class</span> Animal {</span>
<span id="cb12-5"><a href="high-level-principles.html#cb12-5" tabindex="-1"></a>  <span class="co">// Class properties with default values</span></span>
<span id="cb12-6"><a href="high-level-principles.html#cb12-6" tabindex="-1"></a>  x <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> </span>
<span id="cb12-7"><a href="high-level-principles.html#cb12-7" tabindex="-1"></a>  y <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb12-8"><a href="high-level-principles.html#cb12-8" tabindex="-1"></a>  nutrition <span class="op">=</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb12-9"><a href="high-level-principles.html#cb12-9" tabindex="-1"></a></span>
<span id="cb12-10"><a href="high-level-principles.html#cb12-10" tabindex="-1"></a>  <span class="co">// A basic method shared by all Animals</span></span>
<span id="cb12-11"><a href="high-level-principles.html#cb12-11" tabindex="-1"></a>  <span class="fu">move</span>(dx<span class="op">:</span> <span class="dt">number</span><span class="op">,</span> dy<span class="op">:</span> <span class="dt">number</span>) {</span>
<span id="cb12-12"><a href="high-level-principles.html#cb12-12" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">x</span> <span class="op">+=</span> dx<span class="op">;</span></span>
<span id="cb12-13"><a href="high-level-principles.html#cb12-13" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">y</span> <span class="op">+=</span> dy<span class="op">;</span></span>
<span id="cb12-14"><a href="high-level-principles.html#cb12-14" tabindex="-1"></a>  }</span>
<span id="cb12-15"><a href="high-level-principles.html#cb12-15" tabindex="-1"></a></span>
<span id="cb12-16"><a href="high-level-principles.html#cb12-16" tabindex="-1"></a>  <span class="co">// Default eat method</span></span>
<span id="cb12-17"><a href="high-level-principles.html#cb12-17" tabindex="-1"></a>  <span class="fu">eat</span>(food<span class="op">:</span> Food) {</span>
<span id="cb12-18"><a href="high-level-principles.html#cb12-18" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">nutrition</span> <span class="op">+=</span> food<span class="op">.</span><span class="at">nutrition</span><span class="op">;</span></span>
<span id="cb12-19"><a href="high-level-principles.html#cb12-19" tabindex="-1"></a>  }</span>
<span id="cb12-20"><a href="high-level-principles.html#cb12-20" tabindex="-1"></a>}</span></code></pre></div>
<p>Next, we subclass the <code>Animal</code> class and create a <code>Dog</code> class:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb13-1"><a href="high-level-principles.html#cb13-1" tabindex="-1"></a><span class="im">import</span> { Animal } <span class="im">from</span> <span class="st">&quot;./Animal.ts&quot;</span></span>
<span id="cb13-2"><a href="high-level-principles.html#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="high-level-principles.html#cb13-3" tabindex="-1"></a><span class="kw">type</span> Meat <span class="op">=</span> { type<span class="op">:</span> <span class="vs">`meat`</span><span class="op">;</span> nutrition<span class="op">:</span> <span class="dt">number</span> }<span class="op">;</span></span>
<span id="cb13-4"><a href="high-level-principles.html#cb13-4" tabindex="-1"></a></span>
<span id="cb13-5"><a href="high-level-principles.html#cb13-5" tabindex="-1"></a><span class="kw">class</span> Dog <span class="kw">extends</span> Animal {</span>
<span id="cb13-6"><a href="high-level-principles.html#cb13-6" tabindex="-1"></a>  <span class="co">// Overwrite superclass method - dogs only eat meat</span></span>
<span id="cb13-7"><a href="high-level-principles.html#cb13-7" tabindex="-1"></a>  <span class="fu">eat</span>(food<span class="op">:</span> Meat) { </span>
<span id="cb13-8"><a href="high-level-principles.html#cb13-8" tabindex="-1"></a>    <span class="kw">super</span><span class="op">.</span><span class="fu">eat</span>(food)<span class="op">;</span> <span class="co">// Call superclass method</span></span>
<span id="cb13-9"><a href="high-level-principles.html#cb13-9" tabindex="-1"></a>  }</span>
<span id="cb13-10"><a href="high-level-principles.html#cb13-10" tabindex="-1"></a></span>
<span id="cb13-11"><a href="high-level-principles.html#cb13-11" tabindex="-1"></a>  <span class="co">// Dogs also makes a specific dog-like sound</span></span>
<span id="cb13-12"><a href="high-level-principles.html#cb13-12" tabindex="-1"></a>  <span class="fu">getSound</span>() { </span>
<span id="cb13-13"><a href="high-level-principles.html#cb13-13" tabindex="-1"></a>    <span class="cf">return</span> <span class="vs">`Woof!`</span><span class="op">;</span></span>
<span id="cb13-14"><a href="high-level-principles.html#cb13-14" tabindex="-1"></a>  }</span>
<span id="cb13-15"><a href="high-level-principles.html#cb13-15" tabindex="-1"></a>}</span>
<span id="cb13-16"><a href="high-level-principles.html#cb13-16" tabindex="-1"></a></span>
<span id="cb13-17"><a href="high-level-principles.html#cb13-17" tabindex="-1"></a><span class="kw">const</span> dog <span class="op">=</span> <span class="kw">new</span> <span class="fu">Dog</span>()<span class="op">;</span></span>
<span id="cb13-18"><a href="high-level-principles.html#cb13-18" tabindex="-1"></a></span>
<span id="cb13-19"><a href="high-level-principles.html#cb13-19" tabindex="-1"></a><span class="co">// Dog inherits all of the methods and properties of Animal</span></span>
<span id="cb13-20"><a href="high-level-principles.html#cb13-20" tabindex="-1"></a>dog<span class="op">.</span><span class="fu">move</span>(<span class="op">-</span><span class="dv">10</span><span class="op">,</span> <span class="dv">10</span>)<span class="op">;</span> </span>
<span id="cb13-21"><a href="high-level-principles.html#cb13-21" tabindex="-1"></a>dog<span class="op">.</span><span class="fu">eat</span>({ type<span class="op">:</span> <span class="vs">`meat`</span><span class="op">,</span> nutrition<span class="op">:</span> <span class="dv">10</span> })<span class="op">;</span> <span class="co">// This is fine</span></span>
<span id="cb13-22"><a href="high-level-principles.html#cb13-22" tabindex="-1"></a><span class="co">// dog.eat({ type: `vegatable`, nutrition: 10 }); // This would result in a compiler error</span></span>
<span id="cb13-23"><a href="high-level-principles.html#cb13-23" tabindex="-1"></a></span>
<span id="cb13-24"><a href="high-level-principles.html#cb13-24" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>([<span class="vs">`x`</span><span class="op">,</span> <span class="vs">`y`</span><span class="op">,</span> <span class="vs">`nutrition`</span>]<span class="op">.</span><span class="fu">map</span>(e <span class="kw">=&gt;</span> <span class="vs">`</span><span class="sc">${</span>e<span class="sc">}</span><span class="vs">: </span><span class="sc">${</span>dog[e]<span class="sc">}</span><span class="vs">`</span>)<span class="op">.</span><span class="fu">join</span>(<span class="vs">`, `</span>))</span>
<span id="cb13-25"><a href="high-level-principles.html#cb13-25" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(dog<span class="op">.</span><span class="fu">getSound</span>())<span class="op">;</span></span></code></pre></div>
<pre><code>## x: -10, y: 10, nutrition: 110
## Woof!</code></pre>
<p>This is only a toy example of OOP code. In real applications, when writing OOP code, one may also rely on more advanced language features such as interfaces, abstract classes, and generics, however, a detailed discussion of these features is outside of the scope of the present thesis. Nevertheless, what is important to discuss are some fundamental theoretical ideas behind OOP.</p>
<div id="abstraction" class="section level4 hasAnchor" number="5.1.3.1">
<h4><span class="header-section-number">5.1.3.1</span> Abstraction<a href="high-level-principles.html#abstraction" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Abstraction is a fundamental concept in OOP. It refers to the idea that, after having built a system (class) out of components (values and other classes), one should be able to “forget” all of the messy internal details and only rely on the exposed public interface. For instance, in the example above, the <code>Dog</code> class inherits from the <code>Animal</code> class: we should be able to use the methods inherited from <code>Animal</code> (such as <code>move</code>) without having to remember how these methods were implemented on the <code>Animal</code> class.</p>
<p>Ultimately, the goal of abstraction is to make it possible to reason about complex systems <span class="citation">(<a href="#ref-booch2008">Booch et al. 2008</a>)</span>. By hiding away details, good abstractions can free us to think about higher-level concepts. Fundamentally, this also comes with a shift of perspective: instead of thinking about the data objects are composed of, we should only consider their behavior <span class="citation">(<a href="#ref-black2013">Black 2013</a>; <a href="#ref-meyer1997">Meyer 1997</a>)</span>.</p>
</div>
<div id="encapsulation" class="section level4 hasAnchor" number="5.1.3.2">
<h4><span class="header-section-number">5.1.3.2</span> Encapsulation<a href="high-level-principles.html#encapsulation" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>An idea closely related to abstraction is encapsulation. Encapsulation refers to the practice of controlling access to class internals. Specifically, to properly encapsulate its data, a class should expose only a limited number of properties/methods and the rest should be kept private <span class="citation">(<a href="#ref-booch2008">Booch et al. 2008</a>)</span>. Note that this does not mean that the hidden parts of a class have to be entirely <em>invisible</em> to the user, merely that the user should not be able to access the hidden data and rely on it in their applications <span class="citation">(<a href="#ref-meyer1997">Meyer 1997</a>)</span>.</p>
<p>The main goal of encapsulation is continuity. By encapsulating private properties, the developer is free to modify them without affecting the public interface <span class="citation">(<a href="#ref-booch2008">Booch et al. 2008</a>; <a href="#ref-meyer1997">Meyer 1997</a>)</span>. In other words, users can continue using the class the same way, even while the developer is actively modifying the internals.</p>
<p>Encapsulation is also closely related to the ideas of the <em>open-closed</em> principle and <em>small interfaces</em> <span class="citation">(<a href="#ref-meyer1997">Meyer 1997</a>)</span>. The open-closed principles states that modules should be open to extension but closed to modification. The idea of small interfaces suggests that, when communicating via messages (method calls), objects should exchange as little information as possible <span class="citation">(<a href="#ref-meyer1997">Meyer 1997</a>)</span>. This is meant to prevent coupling.</p>
</div>
<div id="polymorphism" class="section level4 hasAnchor" number="5.1.3.3">
<h4><span class="header-section-number">5.1.3.3</span> Polymorphism<a href="high-level-principles.html#polymorphism" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Polymorphism refers to the idea that we should be able to swap out components of our system for other components that conform to the same public interface.</p>
</div>
<div id="inheritance" class="section level4 hasAnchor" number="5.1.3.4">
<h4><span class="header-section-number">5.1.3.4</span> Inheritance<a href="high-level-principles.html#inheritance" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>“programming without inheritance is distinctly not object-oriented; that would merely be programming with abstract data types” <span class="citation">(<a href="#ref-booch2008">Booch et al. 2008</a>)</span>.</p>
</div>
<div id="domain-driven-design" class="section level4 hasAnchor" number="5.1.3.5">
<h4><span class="header-section-number">5.1.3.5</span> Domain-driven design<a href="high-level-principles.html#domain-driven-design" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>One final concept that is not uniquely object-oriented but has a strong tradition in OOP is domain-drive design. This refers to the idea that components of a program (classes) should model things in the business domain or the real world <span class="citation">(<a href="#ref-hadar2013">Hadar 2013</a>; <a href="#ref-meyer1997">Meyer 1997</a>)</span>. The goal of this strategy is to make it easier to discover objects/classes and their relationships by exploiting the mind’s capacity for thinking about the natural world <span class="citation">(<a href="#ref-booch2008">Booch et al. 2008</a>; <a href="#ref-hadar2013">Hadar 2013</a>; <a href="#ref-meyer1997">Meyer 1997</a>)</span>.</p>
</div>
<div id="criticism-of-oop" class="section level4 hasAnchor" number="5.1.3.6">
<h4><span class="header-section-number">5.1.3.6</span> Criticism of OOP<a href="high-level-principles.html#criticism-of-oop" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Another OOP principle that is not always adhered to is the idea of small interfaces <span class="citation">(<a href="#ref-meyer1997">Meyer 1997</a>)</span>. In practice, it is common for class methods to receive pointers to other objects as arguments. However, this results in effectively sending all of the information contained in the argument object(s), defeating the principle of small interfaces <span class="citation">(<a href="#ref-will2016">Will 2016</a>)</span>.</p>
<p>Another issue is that, while elegant abstractions are undeniably powerful, it usually takes a long time to come up with them. Poor and/or complicated abstractions tend to appear first <span class="citation">(<a href="#ref-meyer1997">Meyer 1997</a>)</span>. The problem with OOP is that it tends to introduce abstraction early <span class="citation">(essentially treating all components of a system as abstract data types, <a href="#ref-vaneerd2024">Van Eerd 2024</a>)</span>.</p>
</div>
</div>
<div id="data-oriented-programming" class="section level3 hasAnchor" number="5.1.4">
<h3><span class="header-section-number">5.1.4</span> Data oriented programming<a href="high-level-principles.html#data-oriented-programming" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<blockquote>
<p>My second remark is that our intellectual powers are rather geared to master static relations and that our powers to visualize processes evolving in time are relatively poorly developed. For that reason we should do (as wise programmers aware of our limitations) our utmost to shorten the conceptual gap between the static program and the dynamic process, to make the correspondence between the program (spread out in text space) and the process (spread out in time) as trivial as possible.</p>
<p>Edgar Dijkstra -<span class="citation">Dijkstra (<a href="#ref-dijkstra1968">1968</a>)</span></p>
</blockquote>
<p>Data-oriented programming (DOP) is a relatively new programming paradigm that has been gaining attention in certain programming communities over the recent years. Unfortunately, due to its novelty, there is some confusion in the terminology surrounding this paradigm. The term “DOP” is often used interchangeably with Data Oriented Design (DOD), which shares a number of similarities. However, there are also important differences: whereas DOP is inspired by the Clojure style of programming and focuses on high-level principles such as structure and organization of code <span class="citation">(<a href="#ref-hickey2011">Hickey 2011</a>, <a href="#ref-hickey2018">2018</a>; <a href="#ref-sharvit2022">Sharvit 2022</a>; <a href="#ref-parlog2024">Parlog 2024</a>)</span>, DOD originates in the world of video-game development and primarily concerns itself with low-level optimization details such as memory layout and CPU cache utilization <span class="citation">(<a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-bayliss2022">Bayliss 2022</a>; <a href="#ref-kelley2023">Kelley 2023</a>; <a href="#ref-nikolov2018">Nikolov 2018</a>; <a href="#ref-fabian2018">Fabian 2018</a>)</span>. Also, both paradigms share a connection to value semantics and Value Oriented Design <span class="citation">(VOD, <a href="#ref-parent2013">Parent 2013</a>, <a href="#ref-parent2015">2015</a>; <a href="#ref-vaneerd2021">Van Eerd 2021</a>, <a href="#ref-vaneerd2023">2023</a>, <a href="#ref-vaneerd2024">2024</a>)</span> which has its roots in the work of Alexander Stepanov <span class="citation">(see e.g. <a href="#ref-stepanov2009">Stepanov and McJones 2009</a>; <a href="#ref-stepanov2013">Stepanov 2013</a>)</span>.</p>
<p>Nevertheless, despite the differences, there is also a large common set of ideas that the above-mentioned paradigms share. Specifically, the high-level principles and guidelines they provide are remarkably similar, and there are even examples of explicit cross-pollination and sharing of ideas <span class="citation">(see e.g. <a href="#ref-vaneerd2024">Van Eerd 2024</a>)</span>. Therefore, in this section, I have decided to use DOP as an umbrella term and use it to refer to all three paradigms, unless explicitly specified otherwise.</p>
<div id="data-first" class="section level4 hasAnchor" number="5.1.4.1">
<h4><span class="header-section-number">5.1.4.1</span> Data first<a href="high-level-principles.html#data-first" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The main idea of DOP is a data-first perspective. Programs should be viewed as transformations of data, nothing less, nothing more <span class="citation">(<a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-fabian2018">Fabian 2018</a>; <a href="#ref-sharvit2022">Sharvit 2022</a>)</span>. This view has several important consequences for design.</p>
<p>First and foremost, programs should be partitioned into two sets of independent components: data and code <span class="citation">(<a href="#ref-fabian2018">Fabian 2018</a>)</span>. Data should be represented by generic data structures and code should live inside modules composed of stateless functions <span class="citation">(<a href="#ref-fabian2018">Fabian 2018</a>; <a href="#ref-sharvit2022">Sharvit 2022</a>)</span>. The main benefit of this approach is that, by keeping data and code separate, we can use and reason about both in isolation, without entanglement <span class="citation">(<a href="#ref-vaneerd2024">Van Eerd 2024</a>)</span>. More specifically, data becomes easy to pass around and serialize, and, since the code is composed of pure functions, it becomes easy to test and mock <span class="citation">(<a href="#ref-sharvit2022">Sharvit 2022</a>)</span>. In this way, programs can be thought of as being split between what <em>is</em> and what <em>does</em>.</p>
</div>
<div id="the-data" class="section level4 hasAnchor" number="5.1.4.2">
<h4><span class="header-section-number">5.1.4.2</span> The data<a href="high-level-principles.html#the-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the DOP view, data should be represented by plain data structures. These are any structures that can formed by combining generic components: primitives, arrays, and dictionaries <span class="citation">(aka objects, maps, or structs, <a href="#ref-hickey2011">Hickey 2011</a>, <a href="#ref-hickey2018">2018</a>; <a href="#ref-sharvit2022">Sharvit 2022</a>)</span>. A good example of such plain data is <a href="glossary.html#JSON">JSON</a>.</p>
<p>The data should be organized in a way that makes logical sense and avoids duplicating information. It may even be desirable that the data adheres to the relational model <span class="citation">(<a href="#ref-codd1970">Codd 1970</a>; <a href="#ref-moseley2006">Moseley and Marks 2006</a>; <a href="#ref-fabian2018">Fabian 2018</a>)</span>. This does not mean that the data has to actually <em>live</em> inside a relational database, just that its shape should resemble that of normalized database tables, with columns represented by generic arrays <span class="citation">(<a href="#ref-fabian2018">Fabian 2018</a>)</span>.</p>
<p>Since data represents just itself - data - there is no obligation for it to model the real world or any kind of abstract entity. This can bring significant performance benefits <span class="citation">(<a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-fabian2018">Fabian 2018</a>)</span>. An example typically discussed in DOD is the Structure of Arrays (<a href="glossary.html#SoA">SoA</a>) data structure <span class="citation">(<a href="#ref-acton2014">Acton 2014</a>, <a href="#ref-acton2019">2019</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>. Storing a list of records as a single record of homogeneous arrays can dramatically reduce memory footprint and improve cache line utilization, resulting in better performance <span class="citation">(<a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-fabian2018">Fabian 2018</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>. Another example of alternative data representation that can lead to improved performance are Entity Component Systems in videogames <span class="citation">(<a href="#ref-harkonen2019">Härkönen 2019</a>)</span>.</p>
<p>Outside of performance, another benefit of plain data is that it allows us introduce abstraction gradually. When starting a new project, we should rely on generic data manipulation functions as much as possible <span class="citation">(<a href="#ref-fabian2018">Fabian 2018</a>; <a href="#ref-sharvit2022">Sharvit 2022</a>)</span>. Only once we have settled on a good abstraction should we reify it as code.</p>
</div>
<div id="the-code" class="section level4 hasAnchor" number="5.1.4.3">
<h4><span class="header-section-number">5.1.4.3</span> The code<a href="high-level-principles.html#the-code" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Separate calculating from doing <span class="citation">(<a href="#ref-vaneerd2023">Van Eerd 2023</a>, <a href="#ref-vaneerd2024">2024</a>)</span>.</p>
<p>It may seem that many of the DOP principles directly contradict many popular OOP principles, specifically encapsulation, inheritance, polymorphism, and domain driven design. However, many of these principles can either be reconciled with DOP, or DOP in fact provides better alternatives. Below, I go over these principles and provide code examples that further illustrate how DOP works.</p>
<div id="encapsulation-1" class="section level5 hasAnchor" number="5.1.4.3.1">
<h5><span class="header-section-number">5.1.4.3.1</span> Encapsulation<a href="high-level-principles.html#encapsulation-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>When it comes to encapsulation in DOP, we have to differentiate between encapsulating data and encapsulating code. Encapsulating code is easy in DOP - we can simply not export certain functions from the code modules. We are then free to modify the signature of these functions without affecting the public interface <span class="citation">(<a href="#ref-fabian2018">Fabian 2018</a>)</span>. Encapsulating data may require a bit more work. Depending on the language, generic data structures may not have property access modifiers <span class="citation">(although there does seem to be a trend in recent languages to support property access modifiers more generically, see e.g. <a href="#ref-rust2024">Rust Foundation 2024</a>; <a href="#ref-zig2024">Zig Software Foundation 2024</a>)</span>. For instance, in JavaScript, private properties can only be declared as part of a class declaration <span class="citation">(<a href="#ref-mdn2024e">MDN 2024d</a>)</span>. However, in most languages, it is still possible to use other language features and metaprogramming to achieve data encapsulation - for example, in JavaScript, we can use the Proxy class to emulate private property access (<a href="appendix.html#dop-encapsulation">see Appendix</a>).</p>
<p>Thus, encapsulation of data is certainly possible in DOP. However, a question still remains whether it is a good idea. While in OOP, encapsulation is generally seen as a net positive, in DOP it is thought to come with trade-offs. It does provide an additional layer of security, however, it also makes systems more complex and harder to debug <span class="citation">(<a href="#ref-fabian2018">Fabian 2018</a>; <a href="#ref-sharvit2022">Sharvit 2022</a>)</span>. And, even with full encapsulation, users may still come to rely on hidden features of the system <span class="citation">(<a href="#ref-fabian2018">Fabian 2018</a>)</span>. Ultimately, it is necessary to weigh the pros and cons of encapsulating data within the context of the specific use-case.</p>
<p>Some languages also have features which allow for a weak form encapsulation which is compatible with DOP. In JavaScript, this can be implemented by using symbol keys for object properties <span class="citation">(<a href="#ref-mdn2024f">MDN 2024c</a>)</span>. Symbols are builtin primitive in JavaScript and are guaranteed to be unique. If we assign a property to an object using an unexported symbol as the key, the user will still be able to inspect the object and see the property, however, they will not be able to access it without using reflection. This is actually in line with the data hiding concept as laid out by <span class="citation">Meyer (<a href="#ref-meyer1997">1997</a>)</span>.</p>
<p>I actually found this form a weak encapsulation a good fit for <code>plotscape</code>. For example, here is how I implemented the <code>Meta</code> mixin which allows use to store arbitrary metadata on objects:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb15-1"><a href="high-level-principles.html#cb15-1" tabindex="-1"></a><span class="co">// Meta.ts</span></span>
<span id="cb15-2"><a href="high-level-principles.html#cb15-2" tabindex="-1"></a><span class="kw">const</span> METADATA <span class="op">=</span> <span class="bu">Symbol</span>(<span class="st">&quot;metadata&quot;</span>)<span class="op">;</span></span>
<span id="cb15-3"><a href="high-level-principles.html#cb15-3" tabindex="-1"></a><span class="kw">type</span> METADATA <span class="op">=</span> <span class="kw">typeof</span> METADATA<span class="op">;</span></span>
<span id="cb15-4"><a href="high-level-principles.html#cb15-4" tabindex="-1"></a></span>
<span id="cb15-5"><a href="high-level-principles.html#cb15-5" tabindex="-1"></a><span class="im">export</span> <span class="kw">interface</span> Meta<span class="op">&lt;</span>T <span class="kw">extends</span> <span class="bu">Record</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">any</span><span class="op">&gt;&gt;</span> {</span>
<span id="cb15-6"><a href="high-level-principles.html#cb15-6" tabindex="-1"></a>  [METADATA]<span class="op">:</span> T<span class="op">;</span></span>
<span id="cb15-7"><a href="high-level-principles.html#cb15-7" tabindex="-1"></a>}</span>
<span id="cb15-8"><a href="high-level-principles.html#cb15-8" tabindex="-1"></a></span>
<span id="cb15-9"><a href="high-level-principles.html#cb15-9" tabindex="-1"></a><span class="im">export</span> <span class="im">namespace</span> <span class="dt">Meta</span> {</span>
<span id="cb15-10"><a href="high-level-principles.html#cb15-10" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="kw">of</span><span class="op">&lt;</span>T <span class="kw">extends</span> <span class="bu">Object</span><span class="op">&gt;</span>(object<span class="op">:</span> T) {</span>
<span id="cb15-11"><a href="high-level-principles.html#cb15-11" tabindex="-1"></a>    <span class="cf">return</span> { <span class="op">...</span><span class="kw">object</span><span class="op">,</span> [METADATA]<span class="op">:</span> {} }<span class="op">;</span></span>
<span id="cb15-12"><a href="high-level-principles.html#cb15-12" tabindex="-1"></a>  }</span>
<span id="cb15-13"><a href="high-level-principles.html#cb15-13" tabindex="-1"></a></span>
<span id="cb15-14"><a href="high-level-principles.html#cb15-14" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="kw">get</span><span class="op">&lt;</span>T <span class="kw">extends</span> Meta<span class="op">&gt;</span>(object<span class="op">:</span> T<span class="op">,</span> key<span class="op">:</span> <span class="kw">keyof</span> T[METADATA]) {</span>
<span id="cb15-15"><a href="high-level-principles.html#cb15-15" tabindex="-1"></a>    <span class="cf">return</span> <span class="kw">object</span>[METADATA][key]<span class="op">;</span></span>
<span id="cb15-16"><a href="high-level-principles.html#cb15-16" tabindex="-1"></a>  }</span>
<span id="cb15-17"><a href="high-level-principles.html#cb15-17" tabindex="-1"></a></span>
<span id="cb15-18"><a href="high-level-principles.html#cb15-18" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="kw">set</span><span class="op">&lt;</span>T <span class="kw">extends</span> Meta<span class="op">,</span> K <span class="kw">extends</span> <span class="kw">keyof</span> T[METADATA]<span class="op">&gt;</span>(</span>
<span id="cb15-19"><a href="high-level-principles.html#cb15-19" tabindex="-1"></a>    object<span class="op">:</span> T<span class="op">,</span></span>
<span id="cb15-20"><a href="high-level-principles.html#cb15-20" tabindex="-1"></a>    key<span class="op">:</span> K<span class="op">,</span></span>
<span id="cb15-21"><a href="high-level-principles.html#cb15-21" tabindex="-1"></a>    value<span class="op">:</span> T[METADATA][K]</span>
<span id="cb15-22"><a href="high-level-principles.html#cb15-22" tabindex="-1"></a>  ) {</span>
<span id="cb15-23"><a href="high-level-principles.html#cb15-23" tabindex="-1"></a>    <span class="kw">object</span>[METADATA][key] <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb15-24"><a href="high-level-principles.html#cb15-24" tabindex="-1"></a>  }</span>
<span id="cb15-25"><a href="high-level-principles.html#cb15-25" tabindex="-1"></a>}</span></code></pre></div>
<p>Now we can import the module and use it to add secret metadata to arbitrary data objects:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb16-1"><a href="high-level-principles.html#cb16-1" tabindex="-1"></a><span class="im">import</span> { Meta } <span class="im">from</span> <span class="st">&quot;./Meta.ts&quot;</span></span>
<span id="cb16-2"><a href="high-level-principles.html#cb16-2" tabindex="-1"></a></span>
<span id="cb16-3"><a href="high-level-principles.html#cb16-3" tabindex="-1"></a><span class="kw">interface</span> User <span class="kw">extends</span> Meta<span class="op">&lt;</span>{ id<span class="op">:</span> <span class="dt">number</span> }<span class="op">&gt;</span> {</span>
<span id="cb16-4"><a href="high-level-principles.html#cb16-4" tabindex="-1"></a>  name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb16-5"><a href="high-level-principles.html#cb16-5" tabindex="-1"></a>}</span>
<span id="cb16-6"><a href="high-level-principles.html#cb16-6" tabindex="-1"></a></span>
<span id="cb16-7"><a href="high-level-principles.html#cb16-7" tabindex="-1"></a><span class="kw">const</span> user<span class="op">:</span> User <span class="op">=</span> Meta<span class="op">.</span><span class="fu">of</span>({ name<span class="op">:</span> <span class="st">&quot;Adam&quot;</span> })<span class="op">;</span></span>
<span id="cb16-8"><a href="high-level-principles.html#cb16-8" tabindex="-1"></a>Meta<span class="op">.</span><span class="fu">set</span>(user<span class="op">,</span> <span class="vs">`id`</span><span class="op">,</span> <span class="dv">1337</span>)<span class="op">;</span></span>
<span id="cb16-9"><a href="high-level-principles.html#cb16-9" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(user)</span>
<span id="cb16-10"><a href="high-level-principles.html#cb16-10" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(Meta<span class="op">.</span><span class="fu">get</span>(user<span class="op">,</span> <span class="vs">`id`</span>))<span class="op">;</span></span></code></pre></div>
<pre><code>## {
##   name: &quot;Adam&quot;,
##   [Symbol(metadata)]: {
##     id: 1337,
##   },
## }
## 1337</code></pre>
</div>
<div id="inheritance-1" class="section level5 hasAnchor" number="5.1.4.3.2">
<h5><span class="header-section-number">5.1.4.3.2</span> Inheritance<a href="high-level-principles.html#inheritance-1" class="anchor-section" aria-label="Anchor link to header"></a></h5>
<p>In OOP, primary mechanisms for code reuse are inheritance and composition.</p>
<p>In DOP, since data is generic and separate from behavior, we can call functions from arbitrary modules with any compatible data, and this makes code reuse trivial. For example, here’s a simplified version of the <code>Reactive</code> interface (Observer pattern) from <code>plotscape</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode ts"><code class="sourceCode typescript"><span id="cb18-1"><a href="high-level-principles.html#cb18-1" tabindex="-1"></a></span>
<span id="cb18-2"><a href="high-level-principles.html#cb18-2" tabindex="-1"></a><span class="kw">const</span> LISTENERS <span class="op">=</span> <span class="bu">Symbol</span>(<span class="vs">`listeners`</span>)<span class="op">;</span> <span class="co">// A unique symbol, to avoid namespace clashes</span></span>
<span id="cb18-3"><a href="high-level-principles.html#cb18-3" tabindex="-1"></a><span class="kw">type</span> Dict <span class="op">=</span> <span class="bu">Record</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> <span class="dt">any</span><span class="op">&gt;;</span> <span class="co">// Generic dictionary type</span></span>
<span id="cb18-4"><a href="high-level-principles.html#cb18-4" tabindex="-1"></a><span class="kw">type</span> Callback <span class="op">=</span> (data<span class="op">:</span> Dict) <span class="kw">=&gt;</span> <span class="dt">void</span><span class="op">;</span> <span class="co">// Generic callback function type</span></span>
<span id="cb18-5"><a href="high-level-principles.html#cb18-5" tabindex="-1"></a></span>
<span id="cb18-6"><a href="high-level-principles.html#cb18-6" tabindex="-1"></a><span class="kw">interface</span> Reactive {</span>
<span id="cb18-7"><a href="high-level-principles.html#cb18-7" tabindex="-1"></a>  [LISTENERS]<span class="op">:</span> <span class="bu">Record</span><span class="op">&lt;</span><span class="dt">string</span><span class="op">,</span> Callback[]<span class="op">&gt;;</span></span>
<span id="cb18-8"><a href="high-level-principles.html#cb18-8" tabindex="-1"></a>}</span>
<span id="cb18-9"><a href="high-level-principles.html#cb18-9" tabindex="-1"></a></span>
<span id="cb18-10"><a href="high-level-principles.html#cb18-10" tabindex="-1"></a><span class="im">namespace</span> <span class="dt">Reactive</span> {</span>
<span id="cb18-11"><a href="high-level-principles.html#cb18-11" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="kw">of</span><span class="op">&lt;</span>T <span class="kw">extends</span> <span class="bu">Object</span><span class="op">&gt;</span>(object<span class="op">:</span> T)<span class="op">:</span> T <span class="op">&amp;</span> Reactive {</span>
<span id="cb18-12"><a href="high-level-principles.html#cb18-12" tabindex="-1"></a>    <span class="cf">return</span> { <span class="op">...</span><span class="kw">object</span><span class="op">,</span> [LISTENERS]<span class="op">:</span> {} }<span class="op">;</span></span>
<span id="cb18-13"><a href="high-level-principles.html#cb18-13" tabindex="-1"></a>  }</span>
<span id="cb18-14"><a href="high-level-principles.html#cb18-14" tabindex="-1"></a></span>
<span id="cb18-15"><a href="high-level-principles.html#cb18-15" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="fu">listen</span>(object<span class="op">:</span> Reactive<span class="op">,</span> event<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> cb<span class="op">:</span> Callback) {</span>
<span id="cb18-16"><a href="high-level-principles.html#cb18-16" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="kw">object</span>[LISTENERS][<span class="bu">event</span>]) <span class="kw">object</span>[LISTENERS][<span class="bu">event</span>] <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb18-17"><a href="high-level-principles.html#cb18-17" tabindex="-1"></a>    <span class="kw">object</span>[LISTENERS][<span class="bu">event</span>]<span class="op">.</span><span class="fu">push</span>(cb)<span class="op">;</span></span>
<span id="cb18-18"><a href="high-level-principles.html#cb18-18" tabindex="-1"></a>  }</span>
<span id="cb18-19"><a href="high-level-principles.html#cb18-19" tabindex="-1"></a></span>
<span id="cb18-20"><a href="high-level-principles.html#cb18-20" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="fu">dispatch</span>(object<span class="op">:</span> Reactive<span class="op">,</span> event<span class="op">:</span> <span class="dt">string</span><span class="op">,</span> data<span class="op">:</span> Dict) {</span>
<span id="cb18-21"><a href="high-level-principles.html#cb18-21" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">const</span> cb <span class="kw">of</span> <span class="kw">object</span>[LISTENERS][<span class="bu">event</span>] <span class="op">??</span> []) <span class="fu">cb</span>(data)<span class="op">;</span></span>
<span id="cb18-22"><a href="high-level-principles.html#cb18-22" tabindex="-1"></a>  }</span>
<span id="cb18-23"><a href="high-level-principles.html#cb18-23" tabindex="-1"></a>}</span>
<span id="cb18-24"><a href="high-level-principles.html#cb18-24" tabindex="-1"></a></span>
<span id="cb18-25"><a href="high-level-principles.html#cb18-25" tabindex="-1"></a><span class="kw">interface</span> Dog <span class="kw">extends</span> Reactive {</span>
<span id="cb18-26"><a href="high-level-principles.html#cb18-26" tabindex="-1"></a>  name<span class="op">:</span> <span class="dt">string</span></span>
<span id="cb18-27"><a href="high-level-principles.html#cb18-27" tabindex="-1"></a>}</span>
<span id="cb18-28"><a href="high-level-principles.html#cb18-28" tabindex="-1"></a></span>
<span id="cb18-29"><a href="high-level-principles.html#cb18-29" tabindex="-1"></a><span class="im">namespace</span> <span class="dt">Dog</span> {</span>
<span id="cb18-30"><a href="high-level-principles.html#cb18-30" tabindex="-1"></a>  <span class="im">export</span> <span class="kw">function</span> <span class="kw">of</span>(name<span class="op">:</span> <span class="dt">string</span>) {</span>
<span id="cb18-31"><a href="high-level-principles.html#cb18-31" tabindex="-1"></a>    <span class="cf">return</span> Reactive<span class="op">.</span><span class="fu">of</span>({ name })</span>
<span id="cb18-32"><a href="high-level-principles.html#cb18-32" tabindex="-1"></a>  }</span>
<span id="cb18-33"><a href="high-level-principles.html#cb18-33" tabindex="-1"></a>}</span>
<span id="cb18-34"><a href="high-level-principles.html#cb18-34" tabindex="-1"></a></span>
<span id="cb18-35"><a href="high-level-principles.html#cb18-35" tabindex="-1"></a><span class="kw">const</span> dog <span class="op">=</span> Dog<span class="op">.</span><span class="fu">of</span>(<span class="vs">`Terry`</span>)</span>
<span id="cb18-36"><a href="high-level-principles.html#cb18-36" tabindex="-1"></a>Reactive<span class="op">.</span><span class="fu">listen</span>(dog<span class="op">,</span> <span class="vs">`car goes by`</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`Woof!`</span>))</span>
<span id="cb18-37"><a href="high-level-principles.html#cb18-37" tabindex="-1"></a>Reactive<span class="op">.</span><span class="fu">dispatch</span>(dog<span class="op">,</span> <span class="vs">`car goes by`</span>)</span></code></pre></div>
<pre><code>## Woof!</code></pre>
</div>
</div>
</div>
</div>
<div id="reactivity" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Reactivity<a href="high-level-principles.html#reactivity" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="data-representation" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Data representation<a href="high-level-principles.html#data-representation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data visualization is, first and foremost, about data (it’s in the name). However, all data is not created equal. Information can come to us in various shapes and sizes, and the way the data is structured can have a significant impact on various aspects of the visualization system, including ease of use, maintainability, and performance.</p>
<div id="row-based-vs.-column-based" class="section level4 hasAnchor" number="5.3.0.1">
<h4><span class="header-section-number">5.3.0.1</span> Row-based vs. column-based<a href="high-level-principles.html#row-based-vs.-column-based" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A common model in many data analytic languages is that of two-dimensional table or data frame. Here, the data is organized in a dictionary of columns, with each column being a homogeneous array containing values of the same type. However, unlike in a matrix data structure, different columns can store values of different types (such as floats, integers, or strings). The dataframe object can also store optional metadata, such as row names, column labels, or grouping structure <span class="citation">(<a href="#ref-r2024">R Core Team 2024</a>; <a href="#ref-bouchet-valat2023">Bouchet-Valat and Kamiński 2023</a>)</span>. Popular examples of this design include the S3 <code>data.frame</code> class in base R <span class="citation">(<a href="#ref-r2024">R Core Team 2024</a>)</span>, the <code>tbl_df</code> S3 class in the <code>tibble</code> package <span class="citation">(<a href="#ref-muller2023">Müller and Wickham 2023</a>)</span>, the <code>DataFrame</code> class in the Python <code>pandas</code> package <span class="citation">(<a href="#ref-pandas2024">Pandas Core Team 2024</a>)</span>, the <code>DataFrame</code> class in the <code>polars</code> library <span class="citation">(<a href="#ref-polars2024">Team 2024</a>)</span>, or the <code>DataFrame</code> type in the Julia <code>DataFrame.jl</code> package <span class="citation">(<a href="#ref-bouchet-valat2023">Bouchet-Valat and Kamiński 2023</a>)</span>.</p>
<p>However, the column-based organization of data is not universal. For example, the popular JavaScript data visualization and transformation library D3 <span class="citation">(<a href="#ref-bostock2022">Mike Bostock 2022</a>)</span> models data frames as arrays of rows, with each row being its own separate dictionary. Likewise, certain types of databases store tables as lists of records, with each record having the shape of a dictionary <span class="citation">(<a href="#ref-abadi2013">Abadi et al. 2013</a>)</span>.</p>
<p>Within a broader programming context, these two fundamental data layouts are referred to as the struct of arrays (SoA, also known as “parallel arrays”) versus the array of structs (AoS) data structures. SoA store data in a dictionary of arrays, similar to the column-based layout, whereas AoS store data in an arrays of dictionaries, similar to row-based layout. The distinction between SoA and AoS is a bit more nuanced, since structs can store a wider class of types than just plain data, such as functions and pointers, and this makes either layout better suited to certain <a href="#programming-paradigms">programming styles</a>. For example, in object oriented programming, behaviour is encapsulated alongside data in objects (via methods/member functions), and this makes the AoS the more natural data structure within this programming paradigm <span class="citation">(replicating the same functionality with SoA is awkward, although some modern languages offer features which make this more convenient, see e.g. <a href="#ref-zig2024">Zig Software Foundation 2024</a>)</span>.</p>
</div>
<div id="performance" class="section level4 hasAnchor" number="5.3.0.2">
<h4><span class="header-section-number">5.3.0.2</span> Performance<a href="high-level-principles.html#performance" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The two data layouts also offer distinct performance characteristics.</p>
<p>The column-based (SoA) layout is generally considered to be the one better for performance <span class="citation">(see e.g. <a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>. Specifically, it benefits from two important features: better memory alignment and improved cache locality. First, homogeneous arrays offer better memory characteristics than heterogeneous structs. This is because they can be stored as contiguous blocks of memory with the same alignment, eliminating the need for padding and potentially leading to a significant reduction in memory footprint <span class="citation">(see e.g. <a href="#ref-rentzsch2005">Rentzsch 2005</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>. Second, the column-based data layout is better suited for pre-fetching. Specifically, when performing column-wise operations, the CPU can cache the contiguously-stored values more easily, often resulting in greatly improved performance <span class="citation">(<a href="#ref-abadi2013">Abadi et al. 2013</a>; <a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>.</p>
<p>However, the row-based (AoS) layout can also perform well in certain situations. Specifically, it can outperform column-based stores when retrieving individual records/rows is key, hence why it is commonly used in traditional Online Transaction Processing databases <span class="citation">(OLTP, <a href="#ref-abadi2013">Abadi et al. 2013</a>)</span>. Additionally, it could be argued that the row-based layout can be more “natural” and offer better developer ergonomics for certain programming styles.</p>
</div>
</div>
<div id="rendering-engine" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Rendering engine<a href="high-level-principles.html#rendering-engine" class="anchor-section" aria-label="Anchor link to header"></a></h2>

</div>
</div>
<h3> References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-abadi2013" class="csl-entry">
Abadi, Daniel, Peter Boncz, Stavros Harizopoulos, Stratos Idreos, Samuel Madden, et al. 2013. <span>“The Design and Implementation of Modern Column-Oriented Database Systems.”</span> <em>Foundations and Trends<span></span> in Databases</em> 5 (3): 197–280.
</div>
<div id="ref-acton2014" class="csl-entry">
Acton, Mike. 2014. <span>“Data-Oriented Design and c++.”</span> <em>Luento. CppCon</em>. <a href="https://www.youtube.com/watch?v=rX0ItVEVjHc">https://www.youtube.com/watch?v=rX0ItVEVjHc</a>.
</div>
<div id="ref-acton2019" class="csl-entry">
———. 2019. <span>“Building a Data-Oriented Future.”</span> <em>WeAreDevelopers</em>. <a href="https://www.youtube.com/watch?v=u8B3j8rqYMw">https://www.youtube.com/watch?v=u8B3j8rqYMw</a>.
</div>
<div id="ref-bayliss2022" class="csl-entry">
Bayliss, Jessica D. 2022. <span>“The Data-Oriented Design Process for Game Development.”</span> <em>Computer</em> 55 (5): 31–38.
</div>
<div id="ref-black2013" class="csl-entry">
Black, Andrew P. 2013. <span>“Object-Oriented Programming: Some History, and Challenges for the Next Fifty Years.”</span> <em>Information and Computation</em> 231: 3–20.
</div>
<div id="ref-booch2008" class="csl-entry">
Booch, Grady, Robert A Maksimchuk, Michael W Engle, Bobbi J Young, Jim Connallen, and Kelli A Houston. 2008. <span>“Object-Oriented Analysis and Design with Applications.”</span> <em>ACM SIGSOFT Software Engineering Notes</em> 33 (5): 29–29.
</div>
<div id="ref-bostock2022" class="csl-entry">
Bostock, Mike. 2022. <span>“D3.js - Data-Driven Documents.”</span> <a href="https://d3js.org">https://d3js.org</a>.
</div>
<div id="ref-bouchet-valat2023" class="csl-entry">
Bouchet-Valat, Milan, and Bogumił Kamiński. 2023. <span>“DataFrames.jl: Flexible and Fast Tabular Data in Julia.”</span> <em>Journal of Statistical Software</em> 107 (September): 1–32. <a href="https://doi.org/10.18637/jss.v107.i04">https://doi.org/10.18637/jss.v107.i04</a>.
</div>
<div id="ref-chambers2014" class="csl-entry">
Chambers, John M. 2014. <span>“Object-Oriented Programming, Functional Programming and r.”</span> <em>Statistical Science</em> 29 (2): 167–80. <a href="https://doi.org/10.1214/13-STS452">https://doi.org/10.1214/13-STS452</a>.
</div>
<div id="ref-codd1970" class="csl-entry">
Codd, Edgar F. 1970. <span>“A Relational Model of Data for Large Shared Data Banks.”</span> <em>Communications of the ACM</em> 13 (6): 377–87.
</div>
<div id="ref-dijkstra1968" class="csl-entry">
Dijkstra, Edsger W. 1968. <span>“Letters to the Editor: Go to Statement Considered Harmful.”</span> <em>Communications of the ACM</em> 11 (3): 147–48.
</div>
<div id="ref-dimara2019" class="csl-entry">
Dimara, Evanthia, and Charles Perin. 2019. <span>“What Is Interaction for Data Visualization?”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 26 (1): 119–29.
</div>
<div id="ref-fabian2018" class="csl-entry">
Fabian, Richard. 2018. <span>“Data-Oriented Design.”</span> <em>Framework</em> 21: 1–7.
</div>
<div id="ref-frame2014" class="csl-entry">
Frame, Scott, and John W Coffey. 2014. <span>“A Comparison of Functional and Imperative Programming Techniques for Mathematical Software Development.”</span> <em>Journal of Systemics, Cybernetics and Informatics</em> 12 (2): 1–10.
</div>
<div id="ref-gross2024" class="csl-entry">
Gross, Carson. 2024. <span>“The Grug Brained Developer.”</span> <a href="https://grugbrain.dev">https://grugbrain.dev</a>.
</div>
<div id="ref-hadar2013" class="csl-entry">
Hadar, Irit. 2013. <span>“When Intuition and Logic Clash: The Case of the Object-Oriented Paradigm.”</span> <em>Science of Computer Programming</em> 78 (9): 1407–26.
</div>
<div id="ref-harkonen2019" class="csl-entry">
Härkönen, Toni. 2019. <span>“Advantages and Implementation of Entity-Component-Systems.”</span>
</div>
<div id="ref-hickey2011" class="csl-entry">
Hickey, Rich. 2011. <span>“Simple Made Easy.”</span> <em>Strange Loop</em>. <a href="https://www.youtube.com/watch?v=LKtk3HCgTa8">https://www.youtube.com/watch?v=LKtk3HCgTa8</a>.
</div>
<div id="ref-hickey2013" class="csl-entry">
———. 2013. <span>“Design, Composition, and Performance.”</span> <em>ETE Conference</em>. <a href="https://www.youtube.com/watch?v=QCwqnjxqfmY">https://www.youtube.com/watch?v=QCwqnjxqfmY</a>.
</div>
<div id="ref-hickey2018" class="csl-entry">
———. 2018. <span>“Maybe Not.”</span> <em>Clojure Conj</em>. <a href="https://www.youtube.com/watch?v=YR5WdGrpoug">https://www.youtube.com/watch?v=YR5WdGrpoug</a>.
</div>
<div id="ref-jordan2015" class="csl-entry">
Jordan, Howell, Goetz Botterweck, John Noll, Andrew Butterfield, and Rem Collier. 2015. <span>“A Feature Model of Actor, Agent, Functional, Object, and Procedural Programming Languages.”</span> <em>Science of Computer Programming</em> 98: 120–39.
</div>
<div id="ref-kay1996" class="csl-entry">
Kay, Alan C. 1996. <span>“The Early History of Smalltalk.”</span> In <em>History of Programming Languages—II</em>, 511–98.
</div>
<div id="ref-kelley2023" class="csl-entry">
Kelley, Andew. 2023. <span>“A Practical Guide to Applying Data Oriented Design (DoD).”</span> <em>Handmade Seattle</em>. <a href="https://www.youtube.com/watch?v=IroPQ150F6c">https://www.youtube.com/watch?v=IroPQ150F6c</a>.
</div>
<div id="ref-mdn2024d" class="csl-entry">
———. 2024b. <span>“Classes - JavaScript <span><span class="math inline">\(\vert\)</span></span> MDN.”</span> <em>MDN Web Docs</em>. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes</a>.
</div>
<div id="ref-mdn2024f" class="csl-entry">
———. 2024c. <span>“Symbol - JavaScript <span><span class="math inline">\(\vert\)</span></span> MDN.”</span> <em>MDN Web Docs</em>. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol</a>.
</div>
<div id="ref-mdn2024e" class="csl-entry">
———. 2024d. <span>“Functions - JavaScript <span><span class="math inline">\(\vert\)</span></span> MDN.”</span> <em>MDN Web Docs</em>. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions</a>.
</div>
<div id="ref-mdn2024c" class="csl-entry">
———. 2024f. <span>“JavaScript Language Overview - JavaScript <span><span class="math inline">\(\vert\)</span></span> MDN.”</span> <em>MDN Web Docs</em>. <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Language_overview">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Language_overview</a>.
</div>
<div id="ref-meyer1997" class="csl-entry">
Meyer, Bertrand. 1997. <em>Object-Oriented Software Construction</em>. Vol. 2. Prentice hall Englewood Cliffs.
</div>
<div id="ref-moseley2006" class="csl-entry">
Moseley, Ben, and Peter Marks. 2006. <span>“Out of the Tar Pit.”</span> <em>Software Practice Advancement (SPA)</em> 2006.
</div>
<div id="ref-muller2023" class="csl-entry">
Müller, Kirill, and Hadley Wickham. 2023. <em>Tibble: Simple Data Frames</em>. <a href="https://CRAN.R-project.org/package=tibble">https://CRAN.R-project.org/package=tibble</a>.
</div>
<div id="ref-nikolov2018" class="csl-entry">
Nikolov, Stoyan. 2018. <span>“OOP Is Dead, Long Live Data-Oriented Design.”</span> <em>CppCon</em>. <a href="https://www.youtube.com/watch?v=yy8jQgmhbAU&amp;t=2810s">https://www.youtube.com/watch?v=yy8jQgmhbAU&amp;t=2810s</a>.
</div>
<div id="ref-pandas2024" class="csl-entry">
Pandas Core Team. 2024. <span>“DataFrame <span>—</span> Pandas 2.2.3 Documentation.”</span> <a href="https://pandas.pydata.org/docs/reference/frame.html">https://pandas.pydata.org/docs/reference/frame.html</a>.
</div>
<div id="ref-parent2013" class="csl-entry">
Parent, Sean. 2013. <span>“Inheritance Is the Base Class of Evil.”</span> <em>GoingNative</em>. Youtube. <a href="https://www.youtube.com/watch?v=2bLkxj6EVoM&amp;list=PLM5v5JsFsgP21eB4z2mIL8upkvT00Tw9B">https://www.youtube.com/watch?v=2bLkxj6EVoM&amp;list=PLM5v5JsFsgP21eB4z2mIL8upkvT00Tw9B</a>.
</div>
<div id="ref-parent2015" class="csl-entry">
———. 2015. <span>“Better Code: Data Structures.”</span> <em>CppCon</em>. Youtube. <a href="https://www.youtube.com/watch?v=sWgDk-o-6ZE&amp;list=PLM5v5JsFsgP21eB4z2mIL8upkvT00Tw9B&amp;index=5">https://www.youtube.com/watch?v=sWgDk-o-6ZE&amp;list=PLM5v5JsFsgP21eB4z2mIL8upkvT00Tw9B&amp;index=5</a>.
</div>
<div id="ref-parihar2015" class="csl-entry">
Parihar, Raj. 2015. <span>“Branch Prediction Techniques and Optimizations.”</span> <em>University of Rochester, NY, USA</em>.
</div>
<div id="ref-parlog2024" class="csl-entry">
Parlog, Nicolai. 2024. <span>“Data Oriented Programming in Java 21.”</span> Devoxx. <a href="https://www.youtube.com/watch?v=8FRU_aGY4mY">https://www.youtube.com/watch?v=8FRU_aGY4mY</a>.
</div>
<div id="ref-r2024" class="csl-entry">
R Core Team. 2024. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-raghavan1998" class="csl-entry">
Raghavan, P., H. Shachnai, and M. Yaniv. 1998. <span>“Dynamic Schemes for Speculative Execution of Code.”</span> In <em>Proceedings. Sixth International Symposium on Modeling, Analysis and Simulation of Computer and Telecommunication Systems (Cat. No.98TB100247)</em>, 24. IEEE. <a href="https://doi.org/10.1109/MASCOT.1998.693711">https://doi.org/10.1109/MASCOT.1998.693711</a>.
</div>
<div id="ref-rentzsch2005" class="csl-entry">
Rentzsch, Jonathan. 2005. <span>“Data Alignment: Straighten up and Fly Right.”</span> <em>IBM Developer</em>. <a href="https://developer.ibm.com/articles/pa-dalign">https://developer.ibm.com/articles/pa-dalign</a>.
</div>
<div id="ref-rust2024" class="csl-entry">
Rust Foundation. 2024. <span>“Pub - Rust.”</span> <a href="https://doc.rust-lang.org/std/keyword.pub.html">https://doc.rust-lang.org/std/keyword.pub.html</a>.
</div>
<div id="ref-sharvit2022" class="csl-entry">
Sharvit, Yehonathan. 2022. <em>Data-Oriented Programming: Reduce Software Complexity</em>. Simon; Schuster.
</div>
<div id="ref-stepanov2013" class="csl-entry">
Stepanov, Alexander A. 2013. <span>“Efficient Programming with Components.”</span> <em>A9</em>. Youtube. <a href="https://www.youtube.com/playlist?list=PLHxtyCq_WDLXryyw91lahwdtpZsmo4BGD">https://www.youtube.com/playlist?list=PLHxtyCq_WDLXryyw91lahwdtpZsmo4BGD</a>.
</div>
<div id="ref-stepanov2009" class="csl-entry">
Stepanov, Alexander A, and Paul McJones. 2009. <em>Elements of Programming</em>. Addison-Wesley Professional.
</div>
<div id="ref-polars2024" class="csl-entry">
Team, Polars Core. 2024. <span>“Index - Polars User Guide.”</span> <a href="https://docs.pola.rs">https://docs.pola.rs</a>.
</div>
<div id="ref-vaneerd2021" class="csl-entry">
Van Eerd, Tony. 2021. <span>“Keynote: SOLID, Revisited.”</span> <em>CppNow</em>. Youtube. <a href="https://www.youtube.com/watch?v=glYq-dvgby4">https://www.youtube.com/watch?v=glYq-dvgby4</a>.
</div>
<div id="ref-vaneerd2023" class="csl-entry">
———. 2023. <span>“Value Oriented Programming Part 1: You Say You Want to Write a Function.”</span> <em>CppNow</em>. Youtube. <a href="https://www.youtube.com/watch?v=b4p_tcLYDV0">https://www.youtube.com/watch?v=b4p_tcLYDV0</a>.
</div>
<div id="ref-vaneerd2024" class="csl-entry">
———. 2024. <span>“Value Oriented Programming Part v - Return of the Values.”</span> <em>CppNow</em>. Youtube. <a href="https://www.youtube.com/watch?v=sc1guyo5Rso">https://www.youtube.com/watch?v=sc1guyo5Rso</a>.
</div>
<div id="ref-van2009" class="csl-entry">
Van Roy, Peter et al. 2009. <span>“Programming Paradigms for Dummies: What Every Programmer Should Know.”</span> <em>New Computational Paradigms for Computer Music</em> 104: 616–21.
</div>
<div id="ref-wickham2019" class="csl-entry">
———. 2019. <em>Advanced r</em>. Chapman; Hall/CRC.
</div>
<div id="ref-will2016" class="csl-entry">
Will, Brian. 2016. <span>“Object-Oriented Programming Is Bad.”</span> Youtube. <a href="https://www.youtube.com/watch?v=QM1iUe6IofM">https://www.youtube.com/watch?v=QM1iUe6IofM</a>.
</div>
<div id="ref-zig2024" class="csl-entry">
Zig Software Foundation. 2024. <span>“Documentation - the Zig Programming Language.”</span> <a href="https://ziglang.org/documentation/master">https://ziglang.org/documentation/master</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="problem-set.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="system-description.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
