<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Discussion | The Algebra of Graphics, Statistics, and Interaction</title>
  <meta name="description" content="9 Discussion | The Algebra of Graphics, Statistics, and Interaction" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Discussion | The Algebra of Graphics, Statistics, and Interaction" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Discussion | The Algebra of Graphics, Statistics, and Interaction" />
  
  
  

<meta name="author" content="Adam Bartonicek" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="applied-example.html"/>
<link rel="next" href="glossary.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Abstract</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="background.html"><a href="background.html"><i class="fa fa-check"></i><b>3</b> Background</a>
<ul>
<li class="chapter" data-level="3.1" data-path="background.html"><a href="background.html#brief-history"><i class="fa fa-check"></i><b>3.1</b> Brief history of interactive data visualization</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="background.html"><a href="background.html#static-data-visualization-from-ancient-times-to-the-space-age"><i class="fa fa-check"></i><b>3.1.1</b> Static data visualization: From ancient times to the space age</a></li>
<li class="chapter" data-level="3.1.2" data-path="background.html"><a href="background.html#early-interactive"><i class="fa fa-check"></i><b>3.1.2</b> Early interactive data visualization: By statisticians for statisticians</a></li>
<li class="chapter" data-level="3.1.3" data-path="background.html"><a href="background.html#web-based"><i class="fa fa-check"></i><b>3.1.3</b> Interactive data visualization and the internet: Web-based interactivity</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="background.html"><a href="background.html#what-is-interactive-visualization"><i class="fa fa-check"></i><b>3.2</b> What even is interactive data visualization?</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="background.html"><a href="background.html#interactive-interacting"><i class="fa fa-check"></i><b>3.2.1</b> Interactive vs. interacting with</a></li>
<li class="chapter" data-level="3.2.2" data-path="background.html"><a href="background.html#interactive-enough"><i class="fa fa-check"></i><b>3.2.2</b> Interactive <em>enough</em>?</a></li>
<li class="chapter" data-level="3.2.3" data-path="background.html"><a href="background.html#complexity-of-features"><i class="fa fa-check"></i><b>3.2.3</b> Complexity of interactive features</a></li>
<li class="chapter" data-level="3.2.4" data-path="background.html"><a href="background.html#working-definition"><i class="fa fa-check"></i><b>3.2.4</b> Working definition</a></li>
<li class="chapter" data-level="3.2.5" data-path="background.html"><a href="background.html#common-features"><i class="fa fa-check"></i><b>3.2.5</b> Common interactive features</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="background.html"><a href="background.html#general-data-visualization-theory"><i class="fa fa-check"></i><b>3.3</b> General data visualization theory</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="background.html"><a href="background.html#visualization-goals"><i class="fa fa-check"></i><b>3.3.1</b> Visualization goals</a></li>
<li class="chapter" data-level="3.3.2" data-path="background.html"><a href="background.html#visual-perception"><i class="fa fa-check"></i><b>3.3.2</b> Visual perception</a></li>
<li class="chapter" data-level="3.3.3" data-path="background.html"><a href="background.html#scales-measurement"><i class="fa fa-check"></i><b>3.3.3</b> Scales and measurement</a></li>
<li class="chapter" data-level="3.3.4" data-path="background.html"><a href="background.html#graphics-formats"><i class="fa fa-check"></i><b>3.3.4</b> Graphics formats</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="background.html"><a href="background.html#summary"><i class="fa fa-check"></i><b>3.4</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="problems.html"><a href="problems.html"><i class="fa fa-check"></i><b>4</b> Challenges</a>
<ul>
<li class="chapter" data-level="4.1" data-path="problems.html"><a href="problems.html#the-structure-of-this-chapter-data-visualization-pipeline"><i class="fa fa-check"></i><b>4.1</b> The structure of this chapter: Data visualization pipeline</a></li>
<li class="chapter" data-level="4.2" data-path="problems.html"><a href="problems.html#partitioning"><i class="fa fa-check"></i><b>4.2</b> Partitioning</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="problems.html"><a href="problems.html#show-all-data"><i class="fa fa-check"></i><b>4.2.1</b> Showing the full data</a></li>
<li class="chapter" data-level="4.2.2" data-path="problems.html"><a href="problems.html#comparison-disjointness"><i class="fa fa-check"></i><b>4.2.2</b> Comparison and disjointness</a></li>
<li class="chapter" data-level="4.2.3" data-path="problems.html"><a href="problems.html#plots-as-partitions"><i class="fa fa-check"></i><b>4.2.3</b> Plots as partitions</a></li>
<li class="chapter" data-level="4.2.4" data-path="problems.html"><a href="problems.html#hierarchy"><i class="fa fa-check"></i><b>4.2.4</b> Partitions, hierarchy, and preorders</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="problems.html"><a href="problems.html#aggregation"><i class="fa fa-check"></i><b>4.3</b> Aggregation</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="problems.html"><a href="problems.html#the-relationship-between-graphics-and-statistics"><i class="fa fa-check"></i><b>4.3.1</b> The relationship between graphics and statistics</a></li>
<li class="chapter" data-level="4.3.2" data-path="problems.html"><a href="problems.html#aggregation-category-theory"><i class="fa fa-check"></i><b>4.3.2</b> Stackable summaries: A brief journey into Category Theory</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="problems.html"><a href="problems.html#scaling"><i class="fa fa-check"></i><b>4.4</b> Scaling and encoding</a></li>
<li class="chapter" data-level="4.5" data-path="problems.html"><a href="problems.html#rendering"><i class="fa fa-check"></i><b>4.5</b> Rendering</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="problems.html"><a href="problems.html#frames"><i class="fa fa-check"></i><b>4.5.1</b> Frames</a></li>
<li class="chapter" data-level="4.5.2" data-path="problems.html"><a href="problems.html#graphical-elements"><i class="fa fa-check"></i><b>4.5.2</b> Graphical elements</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="goals.html"><a href="goals.html"><i class="fa fa-check"></i><b>5</b> Goals</a>
<ul>
<li class="chapter" data-level="5.1" data-path="goals.html"><a href="goals.html#user-profile"><i class="fa fa-check"></i><b>5.1</b> User profile</a></li>
<li class="chapter" data-level="5.2" data-path="goals.html"><a href="goals.html#programming-interface"><i class="fa fa-check"></i><b>5.2</b> Programming interface</a></li>
<li class="chapter" data-level="5.3" data-path="goals.html"><a href="goals.html#user-interface"><i class="fa fa-check"></i><b>5.3</b> User interface</a></li>
<li class="chapter" data-level="5.4" data-path="goals.html"><a href="goals.html#interactive-features"><i class="fa fa-check"></i><b>5.4</b> Interactive features</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="high-level-design.html"><a href="high-level-design.html"><i class="fa fa-check"></i><b>6</b> High-level design</a>
<ul>
<li class="chapter" data-level="6.0.1" data-path="high-level-design.html"><a href="high-level-design.html#user-profile-1"><i class="fa fa-check"></i><b>6.0.1</b> User profile</a></li>
<li class="chapter" data-level="6.1" data-path="high-level-design.html"><a href="high-level-design.html#programming-paradigm"><i class="fa fa-check"></i><b>6.1</b> Programming paradigm</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="high-level-design.html"><a href="high-level-design.html#imperative-programming"><i class="fa fa-check"></i><b>6.1.1</b> Imperative programming</a></li>
<li class="chapter" data-level="6.1.2" data-path="high-level-design.html"><a href="high-level-design.html#functional-programming"><i class="fa fa-check"></i><b>6.1.2</b> Functional programming</a></li>
<li class="chapter" data-level="6.1.3" data-path="high-level-design.html"><a href="high-level-design.html#object-oriented-programming"><i class="fa fa-check"></i><b>6.1.3</b> Object oriented programming</a></li>
<li class="chapter" data-level="6.1.4" data-path="high-level-design.html"><a href="high-level-design.html#data-oriented-programming"><i class="fa fa-check"></i><b>6.1.4</b> Data oriented programming</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="high-level-design.html"><a href="high-level-design.html#reactivity"><i class="fa fa-check"></i><b>6.2</b> Reactivity</a></li>
<li class="chapter" data-level="6.3" data-path="high-level-design.html"><a href="high-level-design.html#data-representation"><i class="fa fa-check"></i><b>6.3</b> Data representation</a></li>
<li class="chapter" data-level="6.4" data-path="high-level-design.html"><a href="high-level-design.html#rendering-engine"><i class="fa fa-check"></i><b>6.4</b> Rendering engine</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="system.html"><a href="system.html"><i class="fa fa-check"></i><b>7</b> System description</a>
<ul>
<li class="chapter" data-level="7.1" data-path="system.html"><a href="system.html#core-requirements"><i class="fa fa-check"></i><b>7.1</b> Core requirements</a></li>
<li class="chapter" data-level="7.2" data-path="system.html"><a href="system.html#high-level-api"><i class="fa fa-check"></i><b>7.2</b> High-level API (<code>plotscaper</code>)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="system.html"><a href="system.html#api-design"><i class="fa fa-check"></i><b>7.2.1</b> API design</a></li>
<li class="chapter" data-level="7.2.2" data-path="system.html"><a href="system.html#basic-example"><i class="fa fa-check"></i><b>7.2.2</b> Basic example</a></li>
<li class="chapter" data-level="7.2.3" data-path="system.html"><a href="system.html#scene-and-schema"><i class="fa fa-check"></i><b>7.2.3</b> The scene and the schema</a></li>
<li class="chapter" data-level="7.2.4" data-path="system.html"><a href="system.html#communication"><i class="fa fa-check"></i><b>7.2.4</b> Client-server communication</a></li>
<li class="chapter" data-level="7.2.5" data-path="system.html"><a href="system.html#html-embedding"><i class="fa fa-check"></i><b>7.2.5</b> HTML embedding</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="system.html"><a href="system.html#low-level-implementation"><i class="fa fa-check"></i><b>7.3</b> Low-level implementation (<code>plotscape</code>)</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="system.html"><a href="system.html#reactivity-1"><i class="fa fa-check"></i><b>7.3.1</b> Reactivity</a></li>
<li class="chapter" data-level="7.3.2" data-path="system.html"><a href="system.html#system-components"><i class="fa fa-check"></i><b>7.3.2</b> System components</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="applied-example.html"><a href="applied-example.html"><i class="fa fa-check"></i><b>8</b> Applied example</a>
<ul>
<li class="chapter" data-level="8.0.1" data-path="applied-example.html"><a href="applied-example.html#about-the-data-set"><i class="fa fa-check"></i><b>8.0.1</b> About the data set</a></li>
<li class="chapter" data-level="8.0.2" data-path="applied-example.html"><a href="applied-example.html#interactive-exploration"><i class="fa fa-check"></i><b>8.0.2</b> Interactive exploration</a></li>
<li class="chapter" data-level="8.1" data-path="applied-example.html"><a href="applied-example.html#summary-1"><i class="fa fa-check"></i><b>8.1</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>9</b> Discussion</a>
<ul>
<li class="chapter" data-level="9.1" data-path="discussion.html"><a href="discussion.html#limitations-of-the-theoretical-model"><i class="fa fa-check"></i><b>9.1</b> Limitations of the theoretical model</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="discussion.html"><a href="discussion.html#why-the-model-is-necessary"><i class="fa fa-check"></i><b>9.1.1</b> Why the model is necessary</a></li>
<li class="chapter" data-level="9.1.2" data-path="discussion.html"><a href="discussion.html#disjointness"><i class="fa fa-check"></i><b>9.1.2</b> Disjointness</a></li>
<li class="chapter" data-level="9.1.3" data-path="discussion.html"><a href="discussion.html#associativity-and-unitality"><i class="fa fa-check"></i><b>9.1.3</b> Associativity and unitality</a></li>
<li class="chapter" data-level="9.1.4" data-path="discussion.html"><a href="discussion.html#model-constraints-and-utility"><i class="fa fa-check"></i><b>9.1.4</b> Model constraints and utility</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="discussion.html"><a href="discussion.html#limitations-of-the-software"><i class="fa fa-check"></i><b>9.2</b> Limitations of the software</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="discussion.html"><a href="discussion.html#scope-and-features"><i class="fa fa-check"></i><b>9.2.1</b> Scope and features</a></li>
<li class="chapter" data-level="9.2.2" data-path="discussion.html"><a href="discussion.html#declarative-schemas"><i class="fa fa-check"></i><b>9.2.2</b> Declarative schemas</a></li>
<li class="chapter" data-level="9.2.3" data-path="high-level-design.html"><a href="high-level-design.html#performance"><i class="fa fa-check"></i><b>9.2.3</b> Performance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>10</b> Glossary</a></li>
<li class="chapter" data-level="11" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>11</b> Appendix</a>
<ul>
<li class="chapter" data-level="11.1" data-path="appendix.html"><a href="appendix.html#gauss-russian-monoids"><i class="fa fa-check"></i><b>11.1</b> Gauss method and the russian peasant algorithm for monoids</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="mathematical-theory.html"><a href="mathematical-theory.html"><i class="fa fa-check"></i><b>12</b> Mathematical theory</a>
<ul>
<li class="chapter" data-level="12.0.1" data-path="mathematical-theory.html"><a href="mathematical-theory.html#relations"><i class="fa fa-check"></i><b>12.0.1</b> Relations</a></li>
<li class="chapter" data-level="12.0.2" data-path="mathematical-theory.html"><a href="mathematical-theory.html#functions"><i class="fa fa-check"></i><b>12.0.2</b> Functions</a></li>
<li class="chapter" data-level="12.0.3" data-path="mathematical-theory.html"><a href="mathematical-theory.html#partitions"><i class="fa fa-check"></i><b>12.0.3</b> Partitions</a></li>
<li class="chapter" data-level="12.0.4" data-path="mathematical-theory.html"><a href="mathematical-theory.html#preorders"><i class="fa fa-check"></i><b>12.0.4</b> Preorders</a></li>
<li class="chapter" data-level="12.0.5" data-path="mathematical-theory.html"><a href="mathematical-theory.html#monoids-1"><i class="fa fa-check"></i><b>12.0.5</b> Monoids</a></li>
<li class="chapter" data-level="12.0.6" data-path="mathematical-theory.html"><a href="mathematical-theory.html#groups"><i class="fa fa-check"></i><b>12.0.6</b> Groups</a></li>
<li class="chapter" data-level="12.0.7" data-path="mathematical-theory.html"><a href="mathematical-theory.html#categories"><i class="fa fa-check"></i><b>12.0.7</b> Categories</a></li>
<li class="chapter" data-level="12.0.8" data-path="mathematical-theory.html"><a href="mathematical-theory.html#functors"><i class="fa fa-check"></i><b>12.0.8</b> Functors</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>13</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">The Algebra of Graphics, Statistics, and Interaction</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="discussion" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Discussion<a href="discussion.html#discussion" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This thesis explored the role of interaction in data visualization pipelines. More specifically, I investigated how interaction affects the four stages of data visualization pipelines - partitioning, aggregation, scaling, and rendering - and explored the inherent problems and challenges. The main thrust of the argument was that the popular model implied by the Grammar of Graphics <span class="citation">(<a href="#ref-wilkinson2012">Wilkinson 2012</a>)</span>, which treats statistics and geometric objects as independent entities, is inadequate for describing the complex relationships between the components of interactive figures <span class="citation">(see also <a href="#ref-wu2024">Wu and Chang 2024</a>)</span>. As an alternative, I proposed a simple category-theoretic model, conceptualizing the data visualization pipeline as a functor.</p>
<p>The essence of the proposed model is as follows. Ultimately, when we visualize, we want to represent our data with a set of geometric objects. To do this, we need to partition our data into a collection of subsets. However, often, particularly with features like linked selection, we want to further partition these subsets, to be able to display highlighted parts of objects. This leads to a hierarchical structure: a tree (preorder) of data subsets ordered by set union. To maintain consistency during interactions like linked selection, the subsequent steps of the data visualization pipeline should preserve this structure. Put simply, the geometric objects in our plots and the underlying summary statistics should <em>behave like set union</em>. We can describe this property in category theoretic terms, by conceptualizing the mapping from data subsets to summary statistics as a functor (and, likewise, the mapping from statistics to geometric objects). Further, using the properties of set union, this functor definition allows us identify specific algebraic structures that our statistics and objects should conform to: groups and monoids. Specifically, to behave consistently, the operations underlying our plots should be associative and unital, and potentially also invertible, monotonic, and commutative. When these algebraic constraints are satisfied, the geometric objects in our plots will compose well, meaning that their parts will add up to a meaningful whole, and this ensures that features like linked selection remain consistent.</p>
<p>To test the proposed model, I developed <code>plotscaper</code>, an R package for interactive data exploration (along with <code>plotscape</code>, its TypeScript-based backend). Together, the theoretical model and the software formed a crucial feedback loop, allowing me to refine important concepts. Specifically, many of the model’s key concepts emerged from practical challenges I encoutered during the packages’ development, and, by translating theory into code, I was able to empirically test and refine assumptions about the structure and behavior of interactive data visualizations.</p>
<p>However, <code>plotscaper</code> was also developed to provide a practical tool for data exploration, not just theory testing. As outlined in Section <a href="background.html#background">3</a>, within the R ecosystem, there is currently no shortage of interactive data visualization packages and frameworks; however, many offer only fairly basic interactive features out of the box. Implementing complex features such as linked selection, representation switching, or parametric interaction (see section <a href="background.html#common-features">3.2.5</a>) often requires substantial programming expertise and time-investment, creating a barrier to entry for casual users <span class="citation">(see e.g. <a href="#ref-batch2017">Batch and Elmqvist 2017</a>)</span>. Thus, a secondary goal of this project was to try to address this perceived gap, and this goal seems to have been met with moderate success. Despite its experimental status and the fact that it is competing with a number of far larger and better-established interactive data visualization frameworks, <code>plotscaper</code> has been downloaded over 1980 times<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, in the 159 days since its initial release.</p>
<p>Despite all of these relative successes, both the theoretical model and its practical implementation in <code>plotscaper</code> have, of course, their limitations. These will be the subject of the next few sections.</p>
<div id="limitations-of-the-theoretical-model" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Limitations of the theoretical model<a href="discussion.html#limitations-of-the-theoretical-model" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, it is important discuss the limitations of the theoretical model presented in this thesis. This model, described in Section <a href="problems.html#problems">4</a>, conceptualizes the data visualization pipeline as a structure-preserving mapping, also known as a functor. Specifically, a key initial assumption is that, when visualizing data, we start with a hierarchy of data subsets. These subsets are disjoint (share no overlapping data) and are ordered by set inclusion/union. To produce meaningful graphics, the subsequent steps of the data visualization pipeline should preserve this inherent structure and <em>behave like set union</em>. In category theoretic terms, this means that the aggregation and rendering steps of the data visualization pipeline have to be functors. Based on the properties of set union, this naturally identifies algebraic structures as groups and monoids.</p>
<p>This proposed model of the data visualization pipeline naturally raises several questions and potential criticisms. Some of these have been already pre-emptyed in Section <a href="problems.html#problems">4</a>, however, they will be further discussed and expanded upon in the following subsections. My objective is to clearly articulate the model’s advantages, while also acknowledging its limitations and suggesting opportunities for future work.</p>
<div id="why-the-model-is-necessary" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Why the model is necessary<a href="discussion.html#why-the-model-is-necessary" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, let’s briefly restate the main argument presented throughout Section <a href="problems.html#problems">4</a>. As discussed in Section <a href="problems.html#partitioning">4.2</a>, ultimately, when visualizing data, we want to represent our data with geometric objects. These objects need to map onto some underlying data subsets. We create these subsets by partitioning based on some variable, such as a categorical variable in a barplot or a binned continuous variable in a histogram. Often, we also want to further partition the subsets by conditioning on another variable or variables. In particular, in interactive data visualization, features such as linked selection naturally impose this hierarchical partitioning on our data, by partitioning on selection status <span class="citation">(and in the presence of aggregated views like barplots, see e.g. <a href="#ref-wills2008">Wills 2008</a>)</span>.</p>
<p>After partitioning our data into subsets, we compute summary statistics on these subsets, map these summaries to aesthetic encodings, and finally render these encodings as geometric objects. Importantly, when the partitioning is hierarchical, the geometric objects we use to represent our data need to reflect this. To do this, data visualizations practitioners employ techniques like stacking, dodging, or layering. While dodging and layering are popular in static data visualization, in interactive visualization, stacking offers some unique advantages (see Section <a href="problems.html#stacking-part-whole">4.3.1.4</a>). Specifically, since objects formed with stacking better map onto the part-whole relationships in the underlying data, they have more consistent behavior under interaction, and also simplify certain computations.</p>
<p>However, an important issue related to stacking is that the way we visually represent data is <em>not</em> independent of the way we summarize it. As discussed in Section <a href="problems.html#stackable-or-not">4.3.1.3</a>, past data visualization researchers have noted the fact that while some summary statistics such as sums or counts can be effectively stacked, others like averages or quantiles cannot <span class="citation">(see e.g. <a href="#ref-wilke2019">Wilke 2019</a>; <a href="#ref-wills2011">Wills 2011</a>; <a href="#ref-wu2022">Wu 2022</a>)</span>. For instance, while the sum of sums or maximum of maximums represent valid overall statistics, the average of averages is different from grand mean. Further, the issue clearly extends to other types of plots than just barplots: some statistics allow us to represent objects composed of parts, while others do not.</p>
<p>Early in the project, I was lucky to come across some ideas from functional programming, which in turn lead me to the key insight that these part-whole relationships underlying geometric objects and summary statistics can be described algebraically, by using some fundamental concepts from category theory. This lead me to develop a simple algebraic model of graphics, relying on functors, monoids, and groups. By grounding our reasoning in this algebraic model, we can quickly identify which combinations of statistics and geometric objects will compose into part-whole relationships, and thus behave well under features like linked selection. For instance, since the average operator is not a monoid, it will not compose into part-whole relations, and thus we know that it will present certain challenges if we try to combine it with linked selection. Further, the model also allows us to identify what <em>kinds</em> of linked selection will work. For instance, because the maximum and convex hull operators are monoids, they will work well when comparing nested subsets (e.g. single selection group vs. all cases). However, because they lack an inverse, they will be inappropriate for comparing disjoint subsets (multiple distinct selection groups, see Section <a href="problems.html#groups-inverses">4.3.2.8</a>).</p>
</div>
<div id="disjointness" class="section level3 hasAnchor" number="9.1.2">
<h3><span class="header-section-number">9.1.2</span> Disjointness<a href="discussion.html#disjointness" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As discussed above, the models fundamentally rests on a hierarchy of data subsets organized into partitions, such that all subsets within a partition are disjoint. This is a core assumption of the model. While this assumption holds true for most common plot types, certain visualizations deviate from this model. Specifically, visualizations where geometric objects within the same graphical layer represent overlapping data subsets do not adhere to this assumption. Examples include specific visualizations of set-typed data <span class="citation">(see e.g. <a href="#ref-alsallakh2014">Alsallakh et al. 2014</a>)</span> or two-dimensional kernel density plots (see Section <a href="problems.html#comparison-disjointness">4.2.2</a>). However, these non-disjoint visualizations represent only a small fraction of all available plot types. In the vast majority of “standard” plots - including barplots, histograms, scatterplots, density plots, heatmaps, violin plots, boxplots, lineplots, and parallel coordinate plots - each geometric object represents a distinct subset of cases<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<p>In Section <a href="problems.html#comparison-disjointness">4.2.2</a>, I argued that this tendency towards disjoint data representations is not a mere convention or accident, but instead stems from a fundamental naturality of disjointness. Disjointness underlies many fundamental concepts in statistics, programming, and mathematics, and, in general, seems to align better with our cognitive processes (see Section <a href="problems.html#comparison-disjointness">4.2.2</a>). Put simply, it is far easier to reason about and manipulate objects which are distinct rather than ones which are entangled <span class="citation">(see also <a href="#ref-hickey2011">Hickey 2011</a>)</span>. Therefore, I contend that disjointness is particularly well-suited to interactive data visualization. Conversely, with non-disjoint data representations, certain interactive features may become difficult or even impossible to implement. For example, how would one implement meaningful linked selection with a two-dimensional kernel density plots, without referencing the underlying (disjoint) data points? To summarize, while not the only option, I contend that disjointness provides a good default model for interactive graphics.</p>
</div>
<div id="associativity-and-unitality" class="section level3 hasAnchor" number="9.1.3">
<h3><span class="header-section-number">9.1.3</span> Associativity and unitality<a href="discussion.html#associativity-and-unitality" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The core idea of the model is preservation of the properties of set union. Among these, the two most important ones are associativity and unitality. Associativity ensures that we can perform the summary operations in any order, while unitality guarantees that empty data subsets can be handled properly. Further, as discussed in Section <a href="problems.html#monoids">4.3.2.6</a>, together, these two properties identify a central class of algebraic structures: monoids.</p>
<p>This connection between set union and monoids is not novel. For instance, monoids have long been known to have desirable properties for parallel computing <span class="citation">(see e.g. <a href="#ref-parent2018">Parent 2018</a>; <a href="#ref-fegaras2017">Fegaras 2017</a>; <a href="#ref-lin2013">Lin 2013</a>)</span>. As a side note, the challenges we face when visualizing data are in some ways remarkably similar to those in parallel computing: often, we want to break the data into parts, compute some summaries, and the combine these back together to yield some meaningful aggregate. More broadly, monoids are also popular functional programming <span class="citation">(see e.g. <a href="#ref-milewski2018">Milewski 2018</a>)</span>, and form the basis of certain algorithms in generic programming <span class="citation">(<a href="#ref-stepanov2009">Stepanov and McJones 2009</a>; <a href="#ref-stepanov2013">Stepanov 2013</a>)</span>. Finally, monoids and other concepts from category theory have also been used in certain areas of relational database theory <span class="citation">(see e.g. <a href="#ref-fong2019">Fong and Spivak 2019</a>; <a href="#ref-gibbons2018">Gibbons et al. 2018</a>)</span></p>
<p>However, to my knowledge, I am the first to make the connection between monoids and many popular visualization types. As discussed in Section <a href="problems.html#visualization-category-theory">4.3.2.1</a>, while there has been some limited number of applications of category theory to data visualization, the way I have used category-theoretic concepts differs significantly from all of these. On one hand, it is significantly more applied than some other past applications <span class="citation">(see e.g. <a href="#ref-beckmann1995">Beckmann 1995</a>; <a href="#ref-hutchins1999">Hutchins 1999</a>; <a href="#ref-vickers2012">Vickers, Faith, and Rossiter 2012</a>)</span>, due to the fact that it relates to concrete statistics, geometric objects, and interactive features, rather than broad ideas about the nature of the visualization process. On the other hand, it is also more theoretical than other applications, since it does not require any specific implementation; the work presented in this thesis is not a functional programming library. During my survey of the data visualization literature, I did not find any references explicitly linking common plot types such as barplots or histograms to groups and monoids. The only hints of similar ideas I have been able to find has been in the documentation of Crossfilter, a JavaScript library for exploring large multi-dimensional data sets <span class="citation">Gordon Woodhull (<a href="#ref-crossfilter2025">2025</a>)</span>. However, this documentation only discusses properties like associativity and commutativity, without connecting them to algebraic structures.</p>
<p>Associativity and unitality have some interesting implications for data visualization systems. Firstly, due to the previously mentioned connections to parallel computing, associativity suggests that a data visualization system built around monoids can be easily parallelized. This enables improved performance and make it suitable for distributed computing. Secondly, unitality also has interesting consequences. Specifically, it ensures that empty data subsets have unambiguous representations, and, conversely, lack of unitality may cause ambiguities. For example, the average operator is not unital, since the average of an empty set is not defined. This can create issues when visualizing data, such as drawing a bar plot where some categories are empty. While we might choose to omit bars for empty categories, this leads to an ambiguous representation, such that absence of a bar can indicate one of two things: either there were <em>no</em> cases in the category and their average is undefined, or there <em>were</em> cases and their average was equal to the y-axis intercept. In contrast, since the sum is unital, the representation is always clear: a missing bar unambiguously indicates a sum of zero, regardless of whether there were cases in the category or not. This also provides a potential new perspective on the perennial debate in data visualization: should the base of the barplot always start at zero or not <span class="citation">(see e.g. <a href="#ref-cleveland1985">Cleveland 1985</a>; <a href="#ref-wilkinson2012">Wilkinson 2012</a>)</span>? Since the monoidal unit represents the default state of “no data”, it could serve as the default choice for the barplot’s base, such that, for example, the base of a barplot of products would be one.</p>
</div>
<div id="model-constraints-and-utility" class="section level3 hasAnchor" number="9.1.4">
<h3><span class="header-section-number">9.1.4</span> Model constraints and utility<a href="discussion.html#model-constraints-and-utility" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A potential point of contention is that the constraints which the model provides are too rigid. Specifically, requiring all plots to be groups or monoids excludes a significant fraction of popular visualizations. Further, many non-monoidal plot types, such as boxplots, have been successfully implemented alongside linked selection in the past <span class="citation">(see e.g. <a href="#ref-theus2002">Theus 2002</a>; <a href="#ref-urbanek2011">Urbanek 2011</a>)</span>. Thus, a valid question one might have is whether the limitations imposed by the model are justified by its practical utility.</p>
<p>However, I believe this is not an issue, since the model is not meant to be prescriptive. Instead, it simply provides a framework for identifying visualizations which are “naturally” compatible with features like linked selection, and we are free to violate this naturality whenever we see fit. However, we should be aware of the fact that reconciling non-monoidal visualizations with linked selection may require some ad hoc design decisions. For instance, since a boxplot box is not a monoid, there is no such thing as highlighting a “part of a boxplot box”. We may solve this issue by e.g. plotting the highlighted cases as a second box next to the original one, however, then we lose the nice interactive properties of part-whole relations provided by monoidal plots (see Section <a href="problems.html#stacking-part-whole">4.3.1.4</a>). Thus, the model helps us to identify inherent trade-offs in the design and implementation of interactive graphics.</p>
</div>
</div>
<div id="limitations-of-the-software" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Limitations of the software<a href="discussion.html#limitations-of-the-software" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>During this project, I had time to think through and test out different implementations of the various features of the interactive data visualization system. While I succeeded in some areas, there were also areas which could still use further improvement.</p>
<div id="scope-and-features" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Scope and features<a href="discussion.html#scope-and-features" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Currently, <code>plotscaper</code> offers a number of features for creating and manipulating interactive figures, many of which have been discussed either in Section <a href="system.html#system">7</a> or in Section <a href="applied-example.html#applied-example">8</a>. While these features can be used to create a fairly substantial range of useful interactive figures, there are of course many limitations and gaps when compared to other, better-established established data visualization packages. These will be discussed in this section.</p>
<p>First, <code>plotscaper</code> currently offers six plot types: scatterplots, barplots, histograms, fluctuation diagrams, histograms, two-dimensional histograms, and parallel coordinate plots. Additionally, normalized representations, such as spineplots and spinograms, are available for all aggregate plots. While these six plot types can already be used to create a wide range of useful interactive figures, there are numerous other plots which could be highly desirable in applied data analysis. Density plots, radar plots, mosaic plots, and maps, for example, may be compatible with the <code>plotscaper</code> model and could be potential additions in future versions of the package. Furthermore, a relatively simple addition which could be useful would be horizontal barplots. Finally, all plots are specified in a nominal way, meaning that, for example, to add a scatterplot, we call the <code>add_scatterplot</code> function. While a system for specifying plots declaratively would be appealing, implementing such a system has presented challenges, and the issue will be discussed in more depth in Section <a href="discussion.html#declarative-schemas">9.2.2</a>.</p>
<p>Second, as described in Section <a href="system.html#system">7</a>, <code>plotscaper</code> currently uses a simple transient-persistent product model for linked selection. Users can transiently select cases or assign them to permanent groups via click or click-and-drag interactions. The combination of transient and persistent selection results in <span class="math inline">\(2 \times 4 = 8\)</span> possible selection states per case. This model facilitates simple conditional queries, such as “how many cases assigned to group X are also transiently selected?” For example, users can assign a bar in a barplot to a permanent group and transiently select a point cluster in a scatterplot to easily identify cases belonging to both. However, this model is, of course, fairly limited: it does not allow to combine selections with logical operators such as negation or exclusive difference. Implementing more comprehensive selection operators <span class="citation">(see e.g. <a href="#ref-urbanek2003">Urbanek and Theus 2003</a>; <a href="#ref-urbanek2011">Urbanek 2011</a>; <a href="#ref-theus2002">Theus 2002</a>; <a href="#ref-wilhelm2008">Wilhelm 2008</a>)</span> would enable more sophisticated analytical workflows. Finally, selection geometry is currently restricted to point-clicks or rectangular regions defined by clicking-and-dragging. While these are fairly simple and intuitive, alternative selection strategies, such as a movable selection brush, a circular region expanding around a point, or arbitrary lasso/polygon, could prove beneficial in specific contexts <span class="citation">(see e.g. <a href="#ref-wills2008">Wills 2008</a>)</span>.</p>
<p>Third, there are several other interactive features which could also be further polished, particularly. For instance, while it is currently possible to sort barplot bars by height, expanding sorting capabilities to other plot types and implementing alternative sorting schemes, such as sorting by the heights of highlighted segments, could be beneficial. Similarly, manual axis reordering in parallel coordinate plots could prove valuable. For continuous scales, the ability to interactively switch to alternative transformations, such as a logarithmic scale, would also be useful. Regarding querying, while the system currently supports querying of custom statistics aggregated via <code>Reducer</code>s, expanding the scope to non-monoidal statistics warrants consideration, as the requirements for statistics displayed in the query table are less stringent than those mapped to visual aesthetics. More generic model for parametric interaction (which will be touched on in Section <a href="discussion.html#declarative-schemas">9.2.2</a>) would also be useful. Finally, there is wide a range of other, more ambitious features such as animation (time aesthetic) or semantic zooming, which could provide great utility in certain use-cases but which also present a substantial implementation overhead.</p>
<p>Third, plot and figure customization in <code>plotscaper</code> is currently fairly limited. While users can adjust attributes such as the figure layout and plot scales, surface-level graphical attributes like colors, margins, and axis styling are not yet exposed. Although the support for adding these customization options does exist, their implementation was not prioritized. They may be added in future package versions, when the API stabilizes more.</p>
<p>Fourth, as will be discussed in more depth in Section <a href="high-level-design.html#performance">6.3.0.2</a>, while <code>plotscaper</code> provides decent performance even on moderately sized data sets (thousands or tens of thousands of data points), a particularly valuable feature for performance-sensitive applications would be the ability to register custom rendering backends. For example, GPU-based rendering could enable visualization of much larger datasets <span class="citation">(to get some ideas of the scope, see e.g. <a href="#ref-highschartsboost2022">Highsoft 2022</a>; <a href="#ref-lekschas2024">Lekschas and Manz 2024</a>; <a href="#ref-unwin2006">Unwin et al. 2006</a>)</span>. Conversely, having the ability to switch to an SVG-based rendering backend could also be beneficial in certain scenarios. Currently, the rendering logic in <code>plotscaper</code> is fairly tightly integrated with the rest of the system, however, decoupling this logic would definitely be a priority for a potential major rewrite.</p>
<p>Fifth and finally, there are also many opportunities for additional features in the client-server communication. For instance, the ability to render arbitrary graphical elements (e.g. computed regression lines) within existing <code>plotscaper</code> plots or figures would be highly beneficial. Similarly, features such as dynamically switching <code>Reducer</code>s or sending the underlying summary statistics to the server (similar to querying) warrant consideration. Furthermore, more fine-grained selection controls could also prove useful. mportantly, many of these features may be implementable relatively quickly, as the underlying infrastructure is already in place.</p>
</div>
<div id="declarative-schemas" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Declarative schemas<a href="discussion.html#declarative-schemas" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As discussed in Section <a href="system.html#system">7</a>, one limitation of the delivered system is the absence of a simple declarative schema-based approach for specifying plots. While declarative schemas, popularized by the Grammar of Graphics <span class="citation">(GoG, <a href="#ref-wilkinson2012">Wilkinson 2012</a>)</span>, have become a highly popular in modern data visualization libraries <span class="citation">(see e.g. <a href="#ref-wickham2016">Wickham 2016</a>; <a href="#ref-satyanarayan2016">Satyanarayan et al. 2016</a>; <a href="#ref-plotly2023">Plotly Inc. 2023</a>)</span>, my system deviates from this paradigm. Although certain core components within <code>plotscape</code> are modeled declaratively (as shown in Section <a href="system.html#summaries">7.3.2.6.3</a>), the overall plot definitions remain largely procedural, and the user-facing API (<code>plotscaper</code>) relies on nominal plot types<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<p>However, as I argued in Section <a href="system.html#variables-encodings">7.2.2.3</a>, this lack of a full declarative plot specification is not unique to my system. Instead, I contend that many currently available declarative data visualization libraries provide partial or incomplete solutions, and frequently conceal or obscure key implementation details <span class="citation">(see also <a href="#ref-wu2024">Wu and Chang 2024</a>)</span>. For instance, operations such as grouping, binning, stacking, and normalization are often passed implicitly. Put simply, there are gaps in the GoG-based model. To quote <span class="citation">Wu and Chang (<a href="#ref-wu2024">2024</a>)</span>:</p>
<blockquote>
<p>Despite these broad-ranging benefits, we observe that this [GoG-based] semantic delineation obscures the process of visual mapping in a way that makes it difficult to reason about visualizations and their relationships to user tasks.</p>
<p>We observe that the core reason for this dissonance between visualization specifications and functions is that the Visual Mapping step represents two distinct substeps. The first involves additional transformations over the data tables in order to compute, e.g., desired statistics and spatially place marks that are specific to the visualization design. We term these Design-specific Transformations. The second is the visual encoding that maps each row in the transformed table to a mark and data attributes to mark attributes using simple
scaling functions.</p>
</blockquote>
<p>During the course of my project, I have independently reached several conclusions which similar to those of <span class="citation">Wu and Chang (<a href="#ref-wu2024">2024</a>)</span><a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>. I did try to come up with a way of specifying declarative schemas for interactive graphics, however, despite some partial successes (see Section <a href="system.html#aggregation-summaries">7.3.2.6</a>), ultimately, I was not able to come up with a comprehensive model. I chose to make this implementation gap explicit in <code>plotscaper</code>. However, I believe I have also been able to identify three key factors which contribute to the difficulty of developing declarative schemas for interactive data visualization, and these are detailed below.</p>
<p>The first factor which complicates declarative schemas in interactive graphics is the weak correspondence between data variables and visual encodings. Specifically, as discussed in Section <a href="system.html#variables-encodings">7.2.2.3</a>, often, what we plot are <em>not</em> variables found in the original data, but instead variables which have been computed or derived in some way. This is exists even in static graphics; however, it is further amplified in interactive graphics, where dynamic remapping of variables to aesthetics is often desirable (such as when transforming a barplot to a spineplot). Thus, directly mapping data variables to aesthetics seems to be an inadequate approach. However, to map derived variables to aesthetics, we have to explicitly specify <em>what</em> we compute and <em>how</em>. For example, to fully specify a histogram, we have to describe the fact that we want to bin cases based on some continuous variable, compute the counts within bins, stack these counts, also within bins, and finally map the bin borders to the x-axis variable and the counts to the y-axis variable. While I have been able to get reasonably far with providing a mechanism for specifying declarative schema for this process (see Section <a href="system.html#variables-encodings">7.2.2.3</a>), ultimately, I was not able to integrate it with the rest of the system without some amount of procedural code.</p>
<p>The second factor which presents a challenge to declarative schemas in interactive data visualization is the hierarchical nature of graphics itself (see Section <a href="problems.html#hierarchy">4.2.4</a>). Specifically, while in static graphics, we can often act as if the data underlying our plots is “flat”, interactivity necessitates hierarchical data structures. Interactive features like linked selection and parametric manipulation trigger updates to summary statistics, requiring hierarchical organization for efficient updates, especially with features like stacking and normalization (see Sections <a href="problems.html#transforming-summaries">4.3.2.10</a> and <a href="system.html#aggregation-summaries">7.3.2.6</a>). Furthermore, hierarchical data can also be leveraged to provide more efficient scale and axis updates (see Section <a href="system.html#plot-scales">7.3.2.12.2</a>), and display more information during querying (e.g., by displaying summary statistics for both objects and segments). However, specifying declarative schemas with hierarchical data is inherently more complex than with flat data, due to both increased surface area (multiple data sets) and hierarchical dependencies. In <code>plotscape</code>, these hierarchical dependencies are represented by aggregated variables with references to parent variables (and factors/reducers), which can be leveraged by specialized operators such as <code>Reduced.stack</code> and <code>Reduced.normalize</code>, see Section <a href="system.html#aggregation-summaries">7.3.2.6</a>. An alternative, unexplored approach could be to partially “flatten” the hierarchical structure via SQL-like table joins (i.e. adding parent data as new columns with repeated values). However, with multiple levels of partitioning, this approach may become unwieldy<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>, and there are other considerations, such as the necessity for variables to “remember” how they have been aggregated (see Sections <a href="problems.html#aggregation">4.3</a> and <a href="system.html#aggregation-summaries">7.3.2.6</a>), and the reactive propagation of updates, which make completely flat data tables inadequate.</p>
<p>The third and final factor which makes declarative schemas challenging is reactivity. Interactive visualizations need to, by definition, respond to user input. However, this input can impact various stages of the data visualization pipeline differently. For instance, while shrinking or growing the size of points in a scatterplot is a purely graphical computation, shrinking or growing the width of histogram bins requires recomputation of the underlying data. Consequently, the declarative schema should be able to handle reactive parameters which may have hierarchical dependencies. Signals (see Section <a href="system.html#signals">7.3.1.4</a>) may offer a hypothetical general solution; however, as discussed in Section <a href="system.html#reactivity-solution">7.3.1.5</a>, my experience with developing <code>plotscape</code> revealed that reactivity typically tends to enter the visualization process at discrete points, corresponding to the four stages of the data visualization pipeline. While I did not manage to develop a general declarative mechanism for this, the following list outlines the identified hypothetical points of reactivity:</p>
<ul>
<li>Pre-partitioning: Data streaming, partitioning parameter updates (e.g. histogram bin width, selection)</li>
<li>Pre-aggregation: Aggregation parameter updates (e.g. regression line regularization)</li>
<li>Pre-scaling: Scale parameter updates (e.g. sorting, size/alpha adjustments)</li>
<li>Pre-rendering: Surface-level changes (e.g. layout modifications, DOM resize events)</li>
</ul>
<p>To summarize, modeling interactive data visualizations declaratively presents significant challenges. Specifically, the weak correspondence between data variables and aesthetics, the inherent hierarchical nature of graphics, and the necessity for reactive updates make the seemingly appealing model of “assign variable <span class="math inline">\(x\)</span> to aesthetic <span class="math inline">\(y\)</span>” inadequate for capturing a wide range of popular interactive graphics. These issues are not unique to <code>plotscaper</code></p>
</div>
<div id="performance" class="section level3 hasAnchor" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> Performance<a href="high-level-design.html#performance" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>A key aspect to discuss is the performance of the delivered software. As discussed in Section <a href="background.html#background">3</a>, responsiveness is crucial for interactive data visualization. Slow systems frustrate users, negating any potential benefits of sophisticated features. Given today’s expectation of highly responsive GUIs and the growing size of data sets, performance is an important concern.</p>
<p>Despite not being the sole focus, I am happy to report that <code>plotscaper</code> achieves solid performance even on moderately sized data sets. Specifically, I was able to achieve highly responsive point-wise linked selection on data sets with tens of thousands of data points (such as the <code>diamonds</code> data set; see the <a href="https://bartonicek.github.io/plotscaper/articles/performance.html">Performance vignette</a> on <code>plotscaper</code>’s package website). This performance is, of course, largely attributable to the highly optimized nature of JavaScript engines such as V8 rather than any targeted optimization. Nevertheless, I did try to be generally mindful of performance while developing the package, by adhering to data oriented practices such as relying on the Structure of Arrays (SoA) data layout.</p>
<p>Profiling of the package revealed that the primary performance bottleneck was rendering. This manifests quite clearly even on the macro level: figures composed entirely of aggregate plots tend remain responsive even with fairly large data sets, whereas figures with multiple bijective plots (such as scatterplots or parallel coordinate plots) can start to become sluggish even with moderately-sized data sets (thousands or tens-of-thousands of data points). Therefore, alternative rendering strategies may offer significant performance gains. Currently, <code>plotscaper</code> relies on the default HTML5 <code>canvas</code> rendering context, which provides a simple interface for rendering 2D graphics. GPU-based rendering, particularly WebGL <span class="citation">(<a href="#ref-webgl2025"><span>“<span class="nocase">WebGL: 2D and 3D graphics for the web - Web APIs <span><span class="math inline">\(\vert\)</span></span> MDN</span>”</span> 2025</a>)</span>, could lead to significant performance improvements.</p>
<p>Beyond rendering, there are other parts of the system that may provide opportunities for easy performance wins. For instance, currently, as mentioned in Section <a href="system.html#plot-mousemove">7.3.2.13.3</a>, querying and selection both rely on a naive collision-detection loop, such that all objects are looped through until matches are found. An approach using spatial data structures, for example quadtrees <span class="citation">(<a href="#ref-samet1988">Samet 1988</a>)</span>, could significantly accelerate these searches. Another area which may be open to performance improvements is reactivity. While reactivity is implemented using the - fairly performant - observer pattern, and event callbacks throttled on hot paths (such as mousemove events), further optimization of the reactive system may be possible. Finally, though less performance critical, client-server communication could also be made more performant. Currently, it is implemented with WebSockets <span class="citation">(<a href="#ref-cheng2024">Cheng et al. 2024</a>; <a href="#ref-mdn2024g">MDN 2025</a>)</span> and JSON-based payloads, which incurs serialization/deserialization overhead on each message. An alternative protocol like TCP could mitigate this.</p>

</div>
</div>
</div>
<h3> References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-alsallakh2014" class="csl-entry">
Alsallakh, Bilal, Luana Micallef, Wolfgang Aigner, Helwig Hauser, Silvia Miksch, and Peter Rodgers. 2014. <span>“Visualizing Sets and Set-Typed Data: State-of-the-Art and Future Challenges.”</span> <em>Eurographics Conference on Visualization (EuroVis)</em>.
</div>
<div id="ref-bartonicek2024" class="csl-entry">
Bartonicek, Adam, Simon Urbanek, and Paul Murrell. 2024. <span>“No More, No Less Than Sum of Its Parts: Groups, Monoids, and the Algebra of Graphics, Statistics, and Interaction.”</span> <em>Journal of Computational and Graphical Statistics</em>, 1–12.
</div>
<div id="ref-batch2017" class="csl-entry">
Batch, Andrea, and Niklas Elmqvist. 2017. <span>“The Interactive Visualization Gap in Initial Exploratory Data Analysis.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 24 (1): 278–87.
</div>
<div id="ref-beckmann1995" class="csl-entry">
Beckmann, Peter E. 1995. <span>“On the Problem of Visualizing Point Distributions in High Dimensional Spaces.”</span> <em>Computers &amp; Graphics</em> 19 (4): 617–29.
</div>
<div id="ref-cheng2024" class="csl-entry">
Cheng, Joe, Winston Chang, Steve Reid, James Brown, Bob Trower, and Alexander Peslyak. 2024. <em>Httpuv: HTTP and WebSocket Server Library</em>. <a href="https://CRAN.R-project.org/package=httpuv">https://CRAN.R-project.org/package=httpuv</a>.
</div>
<div id="ref-cleveland1985" class="csl-entry">
Cleveland, William S. 1985. <em>The Elements of Graphing Data</em>. Wadsworth Publ. Co.
</div>
<div id="ref-fegaras2017" class="csl-entry">
Fegaras, Leonidas. 2017. <span>“An Algebra for Distributed Big Data Analytics.”</span> <em>Journal of Functional Programming</em> 27: e27.
</div>
<div id="ref-fong2019" class="csl-entry">
Fong, Brendan, and David I Spivak. 2019. <em>An Invitation to Applied Category Theory: Seven Sketches in Compositionality</em>. Cambridge University Press.
</div>
<div id="ref-gibbons2018" class="csl-entry">
Gibbons, Jeremy, Fritz Henglein, Ralf Hinze, and Nicolas Wu. 2018. <span>“Relational Algebra by Way of Adjunctions.”</span> <em>Proceedings of the ACM on Programming Languages</em> 2 (ICFP): 1–28.
</div>
<div id="ref-crossfilter2025" class="csl-entry">
Gordon Woodhull. 2025. <span>“<span class="nocase">Crossfilter Gotchas <span><span class="math inline">\(\cdot\)</span></span> crossfilter/crossfilter Wiki</span>.”</span> <a href="https://github.com/crossfilter/crossfilter/wiki/Crossfilter-Gotchas">https://github.com/crossfilter/crossfilter/wiki/Crossfilter-Gotchas</a>.
</div>
<div id="ref-hickey2011" class="csl-entry">
Hickey, Rich. 2011. <span>“Simple Made Easy.”</span> <em>Strange Loop</em>. <a href="https://www.youtube.com/watch?v=LKtk3HCgTa8">https://www.youtube.com/watch?v=LKtk3HCgTa8</a>.
</div>
<div id="ref-highschartsboost2022" class="csl-entry">
Highsoft. 2022. <span>“Render Millions of Chart Points with the Boost Module <span></span> Highcharts.”</span> <em>Highcharts</em>. <a href="https://www.highcharts.com/blog/tutorials/highcharts-high-performance-boost-module">https://www.highcharts.com/blog/tutorials/highcharts-high-performance-boost-module</a>.
</div>
<div id="ref-hutchins1999" class="csl-entry">
Hutchins, Matthew A. 1999. <em>Modelling Visualisation Using Formal Algebra</em>. Australian National University.
</div>
<div id="ref-lekschas2024" class="csl-entry">
Lekschas, Fritz, and Trevor Manz. 2024. <span>“Jupyter Scatter: Interactive Exploration of Large-Scale Datasets.”</span> <em>arXiv Preprint arXiv:2406.14397</em>.
</div>
<div id="ref-lin2013" class="csl-entry">
Lin, Jimmy. 2013. <span>“Monoidify! Monoids as a Design Principle for Efficient Mapreduce Algorithms.”</span> <em>arXiv Preprint arXiv:1304.7544</em>.
</div>
<div id="ref-mdn2024g" class="csl-entry">
MDN. 2025. <span>“<span>WebSocket - Web APIs <span><span class="math inline">\(\vert\)</span></span> MDN</span>.”</span> <em>MDN Web Docs</em>. <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket">https://developer.mozilla.org/en-US/docs/Web/API/WebSocket</a>.
</div>
<div id="ref-milewski2018" class="csl-entry">
Milewski, Bartosz. 2018. <em>Category Theory for Programmers</em>. Blurb.
</div>
<div id="ref-parent2018" class="csl-entry">
Parent, Sean. 2018. <span>“<span>Generic Programming</span>.”</span> Pacific++. <a href="https://www.youtube.com/watch?v=iwJpxWHuZQY&amp;t=4183s">https://www.youtube.com/watch?v=iwJpxWHuZQY&amp;t=4183s</a>.
</div>
<div id="ref-plotly2023" class="csl-entry">
Plotly Inc. 2023. <span>“<span>Plotly: Low-Code Data App Development</span>.”</span> <a href="https://plotly.com">https://plotly.com</a>.
</div>
<div id="ref-samet1988" class="csl-entry">
Samet, Hanan. 1988. <span>“An Overview of Quadtrees, Octrees, and Related Hierarchical Data Structures.”</span> <em>Theoretical Foundations of Computer Graphics and CAD</em>, 51–68.
</div>
<div id="ref-satyanarayan2016" class="csl-entry">
Satyanarayan, Arvind, Dominik Moritz, Kanit Wongsuphasawat, and Jeffrey Heer. 2016. <span>“Vega-Lite: A Grammar of Interactive Graphics.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 23 (1): 341–50.
</div>
<div id="ref-stepanov2013" class="csl-entry">
Stepanov, Alexander A. 2013. <span>“Efficient Programming with Components.”</span> <em>A9</em>. Youtube. <a href="https://www.youtube.com/playlist?list=PLHxtyCq_WDLXryyw91lahwdtpZsmo4BGD">https://www.youtube.com/playlist?list=PLHxtyCq_WDLXryyw91lahwdtpZsmo4BGD</a>.
</div>
<div id="ref-stepanov2009" class="csl-entry">
Stepanov, Alexander A, and Paul McJones. 2009. <em>Elements of Programming</em>. Addison-Wesley Professional.
</div>
<div id="ref-theus2002" class="csl-entry">
Theus, Martin. 2002. <span>“<span class="nocase">Interactive Data Visualization using Mondrian</span>.”</span> <em>J. Stat. Soft.</em> 7 (November): 1–9. <a href="https://doi.org/10.18637/jss.v007.i11">https://doi.org/10.18637/jss.v007.i11</a>.
</div>
<div id="ref-unwin2006" class="csl-entry">
Unwin, Antony, Martin Theus, Heike Hofmann, and Antony Unwin. 2006. <span>“Interacting with Graphics.”</span> <em>Graphics of Large Datasets: Visualizing a Million</em>, 73–101.
</div>
<div id="ref-urbanek2011" class="csl-entry">
Urbanek, Simon. 2011. <span>“iPlots eXtreme: Next-Generation Interactive Graphics Design and Implementation of Modern Interactive Graphics.”</span> <em>Computational Statistics</em> 26 (3): 381–93.
</div>
<div id="ref-urbanek2003" class="csl-entry">
Urbanek, Simon, and Martin Theus. 2003. <span>“iPlots: High Interaction Graphics for r.”</span> In <em>Proceedings of the 3rd International Workshop on Distributed Statistical Computing</em>. Citeseer.
</div>
<div id="ref-vickers2012" class="csl-entry">
Vickers, Paul, Joe Faith, and Nick Rossiter. 2012. <span>“Understanding Visualization: A Formal Approach Using Category Theory and Semiotics.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 19 (6): 1048–61.
</div>
<div id="ref-webgl2025" class="csl-entry">
<span>“<span class="nocase">WebGL: 2D and 3D graphics for the web - Web APIs <span><span class="math inline">\(\vert\)</span></span> MDN</span>.”</span> 2025. <em>MDN Web Docs</em>. <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API">https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API</a>.
</div>
<div id="ref-wickham2016" class="csl-entry">
Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis (2e)</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-wilhelm2008" class="csl-entry">
Wilhelm, Adalbert. 2008. <span>“Linked Views for Visual Exploration.”</span> In <em>Handbook of Data Visualization</em>, 200–214. Springer Science &amp; Business Media.
</div>
<div id="ref-wilke2019" class="csl-entry">
Wilke, Claus O. 2019. <em>Fundamentals of Data Visualization: A Primer on Making Informative and Compelling Figures</em>. O’Reilly Media.
</div>
<div id="ref-wilkinson2012" class="csl-entry">
Wilkinson, Leland. 2012. <em>The Grammar of Graphics</em>. Springer.
</div>
<div id="ref-wills2008" class="csl-entry">
Wills, Graham. 2008. <span>“Linked Data Views.”</span> In <em>Handbook of Data Visualization</em>, 217–41. ch. II. 9. Springer Berlin/Heidelberg, Germany.
</div>
<div id="ref-wills2011" class="csl-entry">
———. 2011. <em>Visualizing Time: Designing Graphical Representations for Statistical Data</em>. Springer Science &amp; Business Media.
</div>
<div id="ref-wu2022" class="csl-entry">
Wu, Eugene. 2022. <span>“View Composition Algebra for Ad Hoc Comparison.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 28 (6): 2470–85.
</div>
<div id="ref-wu2024" class="csl-entry">
Wu, Eugene, and Remco Chang. 2024. <span>“Design-Specific Transformations in Visualization.”</span> <em>arXiv Preprint arXiv:2407.06404</em>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>The number only includes downloads from the RStudio CRAN mirror.<a href="discussion.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>As a short exercise, I tried going through <code>ggplot2</code>’s list of <a href="https://ggplot2.tidyverse.org/reference/"><code>geoms</code></a> and identifying all non-disjoint data representations. The only examples I have been able to find have been find were <code>geom</code>s based on two-dimensional kernel density estimates, i.e. <code>geom_density_2d</code> and <code>geom_density_2d_filled</code> (each line or polygon represents densities computed across all datapoints).<a href="discussion.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Currently there are six different types of plots implemented.<a href="discussion.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>I became aware of Eugene Wu’s work only after he contacted me concerning the publication of a paper I co-authored during this project’s development: <span class="citation">Bartonicek, Urbanek, and Murrell (<a href="#ref-bartonicek2024">2024</a>)</span><a href="discussion.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>I.e., the data would have to contain columns such <code>value</code>, <code>parent_value</code>, <code>parent_parent_value</code>, etc…<a href="discussion.html#fnref5" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="applied-example.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="glossary.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
