<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Problem Set | Fluent Graphics</title>
  <meta name="description" content="3 Problem Set | Fluent Graphics" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Problem Set | Fluent Graphics" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Problem Set | Fluent Graphics" />
  
  
  

<meta name="author" content="Adam Bartonicek" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="introduction.html"/>
<link rel="next" href="mathematical-theory.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Abstract</a></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#brief-history-of-interactive-data-visualization"><i class="fa fa-check"></i><b>2.1</b> Brief history of interactive data visualization</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="introduction.html"><a href="introduction.html#static-data-visualization"><i class="fa fa-check"></i><b>2.1.1</b> Static data visualization</a></li>
<li class="chapter" data-level="2.1.2" data-path="introduction.html"><a href="introduction.html#early-interactive-data-visualization-by-statisticians-for-statisticians"><i class="fa fa-check"></i><b>2.1.2</b> Early interactive data visualization: By statisticians for statisticians</a></li>
<li class="chapter" data-level="2.1.3" data-path="introduction.html"><a href="introduction.html#interactive-data-visualization-and-the-web-world-wide-interactivity"><i class="fa fa-check"></i><b>2.1.3</b> Interactive data visualization and the Web: World-wide interactivity</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#what-is-interactive-visualization"><i class="fa fa-check"></i><b>2.2</b> What even is interactive data visualization?</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="introduction.html"><a href="introduction.html#interactive-vs.-interacting-with"><i class="fa fa-check"></i><b>2.2.1</b> Interactive vs. interacting with</a></li>
<li class="chapter" data-level="2.2.2" data-path="introduction.html"><a href="introduction.html#what-counts-as-interactive-enough"><i class="fa fa-check"></i><b>2.2.2</b> What counts as “interactive enough”?</a></li>
<li class="chapter" data-level="2.2.3" data-path="introduction.html"><a href="introduction.html#complexity-of-interactive-features"><i class="fa fa-check"></i><b>2.2.3</b> Complexity of interactive features</a></li>
<li class="chapter" data-level="2.2.4" data-path="introduction.html"><a href="introduction.html#working-definition"><i class="fa fa-check"></i><b>2.2.4</b> Working definition</a></li>
<li class="chapter" data-level="2.2.5" data-path="introduction.html"><a href="introduction.html#brief-taxonomy-of-common-interactive-features"><i class="fa fa-check"></i><b>2.2.5</b> Brief taxonomy of common interactive features</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#the-highlighting-problem"><i class="fa fa-check"></i><b>2.3</b> The highlighting problem</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction.html"><a href="introduction.html#linked-selection-and-stacking"><i class="fa fa-check"></i><b>2.3.1</b> Linked selection and stacking</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction.html"><a href="introduction.html#theory-of-data-visualization-systems"><i class="fa fa-check"></i><b>2.4</b> Theory of data visualization systems</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="introduction.html"><a href="introduction.html#scales"><i class="fa fa-check"></i><b>2.4.1</b> Scales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="problem-set.html"><a href="problem-set.html"><i class="fa fa-check"></i><b>3</b> Problem Set</a>
<ul>
<li class="chapter" data-level="3.1" data-path="problem-set.html"><a href="problem-set.html#data-representation"><i class="fa fa-check"></i><b>3.1</b> Data representation</a></li>
<li class="chapter" data-level="3.2" data-path="problem-set.html"><a href="problem-set.html#data-transformation"><i class="fa fa-check"></i><b>3.2</b> Data transformation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="problem-set.html"><a href="problem-set.html#partitioning-the-data"><i class="fa fa-check"></i><b>3.2.1</b> Partitioning the data</a></li>
<li class="chapter" data-level="3.2.2" data-path="problem-set.html"><a href="problem-set.html#computing-summaries"><i class="fa fa-check"></i><b>3.2.2</b> Computing summaries</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="problem-set.html"><a href="problem-set.html#scaling"><i class="fa fa-check"></i><b>3.3</b> Scaling</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mathematical-theory.html"><a href="mathematical-theory.html"><i class="fa fa-check"></i><b>4</b> Mathematical theory</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="mathematical-theory.html"><a href="mathematical-theory.html#relations"><i class="fa fa-check"></i><b>4.0.1</b> Relations</a></li>
<li class="chapter" data-level="4.0.2" data-path="mathematical-theory.html"><a href="mathematical-theory.html#functions"><i class="fa fa-check"></i><b>4.0.2</b> Functions</a></li>
<li class="chapter" data-level="4.0.3" data-path="mathematical-theory.html"><a href="mathematical-theory.html#partitions"><i class="fa fa-check"></i><b>4.0.3</b> Partitions</a></li>
<li class="chapter" data-level="4.0.4" data-path="mathematical-theory.html"><a href="mathematical-theory.html#preorders"><i class="fa fa-check"></i><b>4.0.4</b> Preorders</a></li>
<li class="chapter" data-level="4.0.5" data-path="mathematical-theory.html"><a href="mathematical-theory.html#monoids"><i class="fa fa-check"></i><b>4.0.5</b> Monoids</a></li>
<li class="chapter" data-level="4.0.6" data-path="mathematical-theory.html"><a href="mathematical-theory.html#groups"><i class="fa fa-check"></i><b>4.0.6</b> Groups</a></li>
<li class="chapter" data-level="4.0.7" data-path="mathematical-theory.html"><a href="mathematical-theory.html#categories"><i class="fa fa-check"></i><b>4.0.7</b> Categories</a></li>
<li class="chapter" data-level="4.0.8" data-path="mathematical-theory.html"><a href="mathematical-theory.html#functors"><i class="fa fa-check"></i><b>4.0.8</b> Functors</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="high-level-principles.html"><a href="high-level-principles.html"><i class="fa fa-check"></i><b>5</b> High-level principles</a>
<ul>
<li class="chapter" data-level="5.0.1" data-path="high-level-principles.html"><a href="high-level-principles.html#user-profile"><i class="fa fa-check"></i><b>5.0.1</b> User profile</a></li>
<li class="chapter" data-level="5.1" data-path="high-level-principles.html"><a href="high-level-principles.html#programming-paradigm"><i class="fa fa-check"></i><b>5.1</b> Programming paradigm</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="high-level-principles.html"><a href="high-level-principles.html#imperative-programming"><i class="fa fa-check"></i><b>5.1.1</b> Imperative programming</a></li>
<li class="chapter" data-level="5.1.2" data-path="high-level-principles.html"><a href="high-level-principles.html#functional-programming"><i class="fa fa-check"></i><b>5.1.2</b> Functional programming</a></li>
<li class="chapter" data-level="5.1.3" data-path="high-level-principles.html"><a href="high-level-principles.html#object-oriented-programming"><i class="fa fa-check"></i><b>5.1.3</b> Object oriented programming</a></li>
<li class="chapter" data-level="5.1.4" data-path="high-level-principles.html"><a href="high-level-principles.html#data-oriented-programming"><i class="fa fa-check"></i><b>5.1.4</b> Data oriented programming</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="high-level-principles.html"><a href="high-level-principles.html#reactivity"><i class="fa fa-check"></i><b>5.2</b> Reactivity</a></li>
<li class="chapter" data-level="5.3" data-path="high-level-principles.html"><a href="high-level-principles.html#row-based-or-column-based"><i class="fa fa-check"></i><b>5.3</b> Row-based or column-based</a></li>
<li class="chapter" data-level="5.4" data-path="high-level-principles.html"><a href="high-level-principles.html#rendering-engine"><i class="fa fa-check"></i><b>5.4</b> Rendering engine</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="system-description.html"><a href="system-description.html"><i class="fa fa-check"></i><b>6</b> System description</a>
<ul>
<li class="chapter" data-level="6.1" data-path="system-description.html"><a href="system-description.html#core-requirements"><i class="fa fa-check"></i><b>6.1</b> Core requirements</a></li>
<li class="chapter" data-level="6.2" data-path="system-description.html"><a href="system-description.html#components"><i class="fa fa-check"></i><b>6.2</b> Components</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="system-description.html"><a href="system-description.html#Indexable"><i class="fa fa-check"></i><b>6.2.1</b> Indexable</a></li>
<li class="chapter" data-level="6.2.2" data-path="system-description.html"><a href="system-description.html#Getter"><i class="fa fa-check"></i><b>6.2.2</b> Getter</a></li>
<li class="chapter" data-level="6.2.3" data-path="system-description.html"><a href="system-description.html#dataframe"><i class="fa fa-check"></i><b>6.2.3</b> Dataframe</a></li>
<li class="chapter" data-level="6.2.4" data-path="system-description.html"><a href="system-description.html#reactive"><i class="fa fa-check"></i><b>6.2.4</b> Reactive</a></li>
<li class="chapter" data-level="6.2.5" data-path="system-description.html"><a href="system-description.html#factors"><i class="fa fa-check"></i><b>6.2.5</b> Factors</a></li>
<li class="chapter" data-level="6.2.6" data-path="system-description.html"><a href="system-description.html#reducers-1"><i class="fa fa-check"></i><b>6.2.6</b> Reducers</a></li>
<li class="chapter" data-level="6.2.7" data-path="system-description.html"><a href="system-description.html#scales-1"><i class="fa fa-check"></i><b>6.2.7</b> Scales</a></li>
<li class="chapter" data-level="6.2.8" data-path="system-description.html"><a href="system-description.html#expanses"><i class="fa fa-check"></i><b>6.2.8</b> Expanses</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="applied-examples.html"><a href="applied-examples.html"><i class="fa fa-check"></i><b>7</b> Applied examples</a></li>
<li class="chapter" data-level="8" data-path="discussion.html"><a href="discussion.html"><i class="fa fa-check"></i><b>8</b> Discussion</a></li>
<li class="chapter" data-level="9" data-path="glossary.html"><a href="glossary.html"><i class="fa fa-check"></i><b>9</b> Glossary</a></li>
<li class="chapter" data-level="10" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>10</b> Appendix</a></li>
<li class="chapter" data-level="11" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>11</b> References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Fluent Graphics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="problem-set" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Problem Set<a href="problem-set.html#problem-set" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Designing an interactive data visualization system presents a unique set of challenges. Some of these have been already touched on in the <a href="#Introduction">Introduction</a>. This section discusses these inherent challenges in greater depth, and begins exploring avenues for possible solutions.</p>
<div id="data-representation" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Data representation<a href="problem-set.html#data-representation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data visualization is, first and foremost, about data (it’s in the name). However, all data is not created equal. Information can come to us in various shapes and sizes, and the way the data is structured can have a significant impact on various aspects of the visualization system, including ease of use, maintainability, and performance.</p>
<div id="row-based-vs.-column-based" class="section level4 hasAnchor" number="3.1.0.1">
<h4><span class="header-section-number">3.1.0.1</span> Row-based vs. column-based<a href="problem-set.html#row-based-vs.-column-based" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A common model in many data analytic languages is that of two-dimensional table or data frame. Here, the data is organized in a dictionary of columns, with each column being a homogeneous array containing values of the same type. However, unlike in a matrix data structure, different columns can store values of different types (such as floats, integers, or strings). The dataframe object can also store optional metadata, such as row names, column labels, or grouping structure <span class="citation">(<a href="#ref-r2024">R Core Team 2024</a>; <a href="#ref-bouchet-valat2023">Bouchet-Valat and Kamiński 2023</a>)</span>. Popular examples of this design include the S3 <code>data.frame</code> class in base R <span class="citation">(<a href="#ref-r2024">R Core Team 2024</a>)</span>, the <code>tbl_df</code> S3 class in the <code>tibble</code> package <span class="citation">(<a href="#ref-muller2023">Müller and Wickham 2023</a>)</span>, the <code>DataFrame</code> class in the Python <code>pandas</code> package <span class="citation">(<a href="#ref-pandas2024">Pandas Core Team 2024</a>)</span>, the <code>DataFrame</code> class in the <code>polars</code> library <span class="citation">(<a href="#ref-polars2024">Team 2024</a>)</span>, or the <code>DataFrame</code> type in the Julia <code>DataFrame.jl</code> package <span class="citation">(<a href="#ref-bouchet-valat2023">Bouchet-Valat and Kamiński 2023</a>)</span>.</p>
<p>However, the column-based organization of data is not universal. For example, the popular JavaScript data visualization and transformation library D3 <span class="citation">(<a href="#ref-bostock2022">Bostock 2022</a>)</span> models data frames as arrays of rows, with each row being its own separate dictionary. Likewise, certain types of databases store tables as lists of records, with each record having the shape of a dictionary <span class="citation">(<a href="#ref-abadi2013">Abadi et al. 2013</a>)</span>.</p>
<p>Within a broader programming context, these two fundamental data layouts are referred to as the struct of arrays (SoA, also known as “parallel arrays”) versus the array of structs (AoS) data structures. SoA store data in a dictionary of arrays, similar to the column-based layout, whereas AoS store data in an arrays of dictionaries, similar to row-based layout. The distinction between SoA and AoS is a bit more nuanced, since structs can store a wider class of types than just plain data, such as functions and pointers, and this makes either layout better suited to certain <a href="#programming-paradigms">programming styles</a>. For example, in object oriented programming, data is encapsulated alongside behavior in objects, and this makes the AoS data structure the more natural choice in this programming paradigm <span class="citation">(replicating the same functionality with SoA is awkward, although some modern languages offer features which make this more convenient, see e.g. <a href="#ref-zig2024">Zig Software Foundation 2024</a>)</span>.</p>
</div>
<div id="performance" class="section level4 hasAnchor" number="3.1.0.2">
<h4><span class="header-section-number">3.1.0.2</span> Performance<a href="problem-set.html#performance" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The two data layouts also offer distinct performance characteristics.</p>
<p>The column-based (SoA) layout is generally considered to be the one better for performance <span class="citation">(see e.g. <a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>. Specifically, it benefits from two important features: better memory alignment and improved cache locality. First, homogeneous arrays offer better memory characteristics than heterogeneous structs. This is because they can be stored as contiguous blocks of memory with the same alignment, eliminating the need for padding and potentially leading to a significant reduction in memory footprint <span class="citation">(see e.g. <a href="#ref-rentzsch2005">Rentzsch 2005</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>. Second, the column-based data layout is better suited for pre-fetching. Specifically, when performing column-wise operations, the CPU can cache the contiguously-stored values more easily, often resulting in a greatly improved performance <span class="citation">(<a href="#ref-abadi2013">Abadi et al. 2013</a>; <a href="#ref-acton2014">Acton 2014</a>; <a href="#ref-kelley2023">Kelley 2023</a>)</span>.</p>
<p>However, the row-based (AoS) layout can also perform well in certain situations. Specifically, it can outperform column-based stores when retrieving individual records/rows is key, hence why it is commonly used in traditional Online Transaction Processing databases <span class="citation">(OLTP, <a href="#ref-abadi2013">Abadi et al. 2013</a>)</span>. Additionally, it could be argued that the row-based layout can be more “natural” and offer better developer ergonomics for certain programming styles such as OOP.</p>
</div>
</div>
<div id="data-transformation" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Data transformation<a href="problem-set.html#data-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When visualizing data, we rarely plot the raw data directly. Instead, the quantities we visualize are often summaries or aggregates of some kind. Take for example a typical barplot. To draw the barplot, we first need to divide the data into parts, summarize each part by some metric, usually either count or sum of some variable, and finally, render the summaries as individual bars. Likewise, many other types of plots like boxplots or histograms include two distinct steps: splitting the data into parts and computing the summaries on these parts.</p>
<p>This section discusses these two fundamental parts of the data visualization pipeline - partitioning and aggregation - and explores challenges associated with their implementation in an interactive data visualization system. While these operations might seem straightforward, my goal is to make the case that they actually come equipped with a lot of subtle structure, more than might necessarily meet the eye.</p>
<div id="partitioning-the-data" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Partitioning the data<a href="problem-set.html#partitioning-the-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="leave-no-data-out" class="section level4 hasAnchor" number="3.2.1.1">
<h4><span class="header-section-number">3.2.1.1</span> Leave no data out<a href="problem-set.html#leave-no-data-out" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>A common-sense guideline that many data visualization experts provide is that faithful visualizations should show the full data and leave nothing out. For instance, <span class="citation">Cleveland (<a href="#ref-cleveland1985">1985</a>)</span> argues that axis limits should generally be expanded so that data points at or near these limits are not arbitrarily obscured. Take, for example, the following two scatterplots:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-1"></span>
<img src="figures/expand-scatterplot.png" alt="Without expanding axes, data points near the limits can become obscured. Left: axis limits match the data limits exactly, and so points at or near the axis limits (top-left and bottom-right corner of the plot) are represented by smaller area and become less salient. Right: by expanding axis limits, we can ensure that all data is represented faithfully." width="750" />
<p class="caption">
Figure 3.1: Without expanding axes, data points near the limits can become obscured. Left: axis limits match the data limits exactly, and so points at or near the axis limits (top-left and bottom-right corner of the plot) are represented by smaller area and become less salient. Right: by expanding axis limits, we can ensure that all data is represented faithfully.
</p>
</div>
<p>In the left plot, the axis limits match the data limits exactly, whereas in the right plot, they are expanded by a small fraction <span class="citation">(5%, <code>ggplot2</code> default, <a href="#ref-wickham2016">Wickham 2016</a>)</span>. The problem with the left plot is that the data points near the axis limits (top-left and bottom-right corner) are represented only by a fraction of the area: for example, the point in the bottom-right corner lies simultaneously at the limits of the x- and y-axis, and is thus represented only by 1/4 of the area of the points in the center of the plot.</p>
<p>The example above shows how data can be obscured visually, even after all of the data points have been included in the plot (rendering all rows of the data set). Clearly then, when complete data is available, leaving information out by arbitrarily dropping rows is even less acceptable. This issue becomes more complicated in the presence of missing or incomplete data, however, there exist ways of dealing with that as well, see e.g. <span class="citation">Unwin et al. (<a href="#ref-unwin1996">1996</a>)</span>, <span class="citation">Tierney and Cook (<a href="#ref-tierney2023">2023</a>)</span>. Thus, ideally, the visualization should represent a surjective mapping from the space of the geometric objects to the underlying data set, such that, by default, there are no cases (rows of the data) which are marginalized or left out of the figure entirely <span class="citation">(<a href="#ref-ziemkiewicz2009">Ziemkiewicz and Kosara 2009</a>)</span>.</p>
</div>
<div id="distinctness-disjointness-and-comparison" class="section level4 hasAnchor" number="3.2.1.2">
<h4><span class="header-section-number">3.2.1.2</span> Distinctness, disjointness, and comparison<a href="problem-set.html#distinctness-disjointness-and-comparison" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<blockquote>
<p>“To be truthful and revealing, data graphics must bear on the question at the heart of quantitative thinking: ‘compared to what’?” <span class="citation">(<a href="#ref-tufte2001">Tufte 2001, 74</a>)</span>.</p>
</blockquote>
<blockquote>
<p>“Graphics are for comparison - comparison of one kind or another - not for access to individual amounts.” <span class="citation">(<a href="#ref-tukey1993">Tukey 1993</a>)</span></p>
</blockquote>
<p>In data visualization, a practice so ubiquitous that it is often overlooked is that, in most types of plots, each geometric object represents one disjoint part of the data. That is, each point, bar, line, or polygon typically represents a unique set of cases (rows of the data), with no overlap with the cases represented by the other objects.</p>
<p>Why is this the case? This unconscious “law” might be rooted in the fundamental purpose of data visualization: comparison <span class="citation">(<a href="#ref-tufte2001">Tufte 2001</a>; <a href="#ref-tukey1993">Tukey 1993</a>)</span>. When we visualize, we draw our graphics with the ultimate goal of being able to compare our data along a set of visual channels, such as position, length, size, or colour <span class="citation">(<a href="#ref-bertin1983">Bertin 1983</a>; <a href="#ref-wilkinson2012">Wilkinson 2012</a>; <a href="#ref-franconeri2021">Franconeri et al. 2021</a>; <a href="#ref-wilke2019">Wilke 2019</a>)</span>. This mirrors the comparisons we make in the real world, where we compare physical objects along their respective dimensions or attributes.</p>
<p>With disjoint parts, there is a natural correspondence or bijection between the subsets of the data and their visual representation, see figure <a href="problem-set.html#fig:geoms-bijection">3.2</a>. Specifically, if we imagine the act of taking an object and picking the corresponding set of cases as a function, then, with disjoint parts, this function is invertible: we can pick an object, identify the corresponding set of cases, and then use that set to get back the original object. In plots where the objects do not represent disjoint subsets of the data, this correspondence is broken: if we identify cases corresponding to a single object, there is no way to go back from these cases to the original object.</p>
<div class="figure"><span style="display:block;" id="fig:geoms-bijection"></span>
<img src="figures/geoms-bijection.png" alt="Disjoint subsets provide a one-to-one correspondence (bijection) between geometric objects and the data. Suppose we mark out the cases corresponding to one object (the left most bar). Top row: if each geometric object (bar) represents unique set of cases, we can easily go back and forth between the object and its underlying data (middle panel). Thus, the function of picking a set of cases corresponding to an object is bijective. Bottom row: when there is an overlap between the cases represented by each object, once we pick the set of cases corresponding to that object, there is no simple way to use that set to get the corresponding object back." width="886" />
<p class="caption">
Figure 3.2: Disjoint subsets provide a one-to-one correspondence (bijection) between geometric objects and the data. Suppose we mark out the cases corresponding to one object (the left most bar). Top row: if each geometric object (bar) represents unique set of cases, we can easily go back and forth between the object and its underlying data (middle panel). Thus, the function of picking a set of cases corresponding to an object is bijective. Bottom row: when there is an overlap between the cases represented by each object, once we pick the set of cases corresponding to that object, there is no simple way to use that set to get the corresponding object back.
</p>
</div>
<p>To illustrate this idea on concrete data, take the following barplot representing vote share among the top three parties in the 2023 New Zealand general election <span class="citation">(<a href="#ref-election2023">Electoral Commission New Zealand 2023</a>)</span>:</p>
<div class="figure"><span style="display:block;" id="fig:barplot-bijection"></span>
<img src="figures/barplot-bijection.png" alt="Geometric objects typically represent disjoint subsets of the data. The plot shows the vote share of the top three parties in the 2023 New Zealand general election, with each bar representing a unique subset of voters." width="750" />
<p class="caption">
Figure 3.3: Geometric objects typically represent disjoint subsets of the data. The plot shows the vote share of the top three parties in the 2023 New Zealand general election, with each bar representing a unique subset of voters.
</p>
</div>
<p>Each bar represents a unique set of voters and thus the subsets of the data represented by the bars are disjoint. Technically, there is no hard and fast rule about this. For example, we could transform the first bar by taking a union of the votes of National and Labour parties, and represent the same underlying data the following way:</p>
<div class="figure"><span style="display:block;" id="fig:union-geoms"></span>
<img src="figures/barplot-notbijection.png" alt="Hypothetically, there is nothing preventing us from encoding the same information in multiple objects, and showing non-disjoint parts of our data. The plot shows the same underlying data as \@ref(fig:geoms-bijection), with the leftmost bar representing a union of National and Labour voters. The two leftmost bars thus do not represent disjoint subsets of the data. For a more realistic example, see Figure \@ref(fig:union-geoms2)." width="750" />
<p class="caption">
Figure 3.4: Hypothetically, there is nothing preventing us from encoding the same information in multiple objects, and showing non-disjoint parts of our data. The plot shows the same underlying data as <a href="problem-set.html#fig:geoms-bijection">3.2</a>, with the leftmost bar representing a union of National and Labour voters. The two leftmost bars thus do not represent disjoint subsets of the data. For a more realistic example, see Figure <a href="problem-set.html#fig:union-geoms2">3.6</a>.
</p>
</div>
<p>However, this way of representing the data has several problems. First, there is the issue of its suitability towards the main goal of the visualization. Specifically, when visualizing election data such as this one, we are typically interested in judging the relative number of votes each party received. The second barplot makes this comparison difficult. Specifically, in the second barplot, since the National bar represents a subset of the National OR Labour bar, we have to perform additional mental calculation if we want to find out how many votes Labour received and compare the absolute counts directly <span class="citation">(<a href="#ref-cleveland1985">Cleveland 1985</a>)</span>. Second, we have metadata knowledge <span class="citation">(see e.g. <a href="#ref-wilkinson2012">Wilkinson 2012</a>; <a href="#ref-velleman1993">Velleman and Wilkinson 1993</a>)</span> about the data being disjoint - we know that, in the New Zealand parliament electoral system, each voter can only cast one vote for a single party. Finally, there is the issue of duplicating information: in the second barplot, the number of votes the National party received is counted twice, once in the leftmost bar and again in the second-left bar. This goes against the general principle of representing our data in the most parsimonious way <span class="citation">(<a href="#ref-tufte2001">Tufte 2001</a>)</span>.</p>
<p>Even when our goal is not to compare absolute counts, there are usually better disjoint data visualization techniques available. For example, if we were interested in visualizing the proportion of votes that each party received, we could draw the following plot:</p>
<div class="figure"><span style="display:block;" id="fig:stacked-proportion"></span>
<img src="figures/barplot-bijection-proportions.png" alt="Even when proportions are of interest, there are usually disjoint data visualization techniques available. The plot shows proportion of vote share of the top three parties in the 2023 New Zealand general election, with each bar segment again representing a unique subset of voters." width="750" />
<p class="caption">
Figure 3.5: Even when proportions are of interest, there are usually disjoint data visualization techniques available. The plot shows proportion of vote share of the top three parties in the 2023 New Zealand general election, with each bar segment again representing a unique subset of voters.
</p>
</div>
<p>By stacking the bar segments on top of each other, we can easily compare proportion of the total number of votes while retaining a parsimonious representation of our data. Each bar segments now again represents a unique subset of voters.</p>
<p>The example above was fairly clear case of where a non-disjoint representation of the data would be the wrong choice, however, there are also more ambiguous situations. One such situation is when there are multiple attributes of the data which can be simultaneously present or absent for each case. For example, in 2020, a joint referendum was held in New Zealand on the question of legalization of euthanasia and cannabis. The two issues were simultaneously included on the same ballot. The legalization of euthanasia was accepted by the voters, with 65.1% of votes supporting the decision, whereas the legalization of cannabis was rejected, with 50.7% of voters rejecting the decision <span class="citation">(<a href="#ref-referendum2020">Electoral Commission New Zealand 2020</a>)</span>.</p>
<p>The referendum data can be visualized in the following way:</p>
<div class="figure"><span style="display:block;" id="fig:union-geoms2"></span>
<img src="figures/referendum-notbijection.png" alt="Realistic example of a non-disjoint data representation. The plot shows the vote share in the combined 2020 New Zealand referendum on euthanasia and cannabis, where the two issues were simultaneousy presented on the same ballot. The two bars each show (mostly) the same subset of ballot, with each ballot contributing to the height of one segment in each bar." width="750" />
<p class="caption">
Figure 3.6: Realistic example of a non-disjoint data representation. The plot shows the vote share in the combined 2020 New Zealand referendum on euthanasia and cannabis, where the two issues were simultaneousy presented on the same ballot. The two bars each show (mostly) the same subset of ballot, with each ballot contributing to the height of one segment in each bar.
</p>
</div>
<p>By definition, both bars include votes which were cast by the same voter <span class="citation">(ignoring the votes where no preference was given for either issue, <a href="#ref-referendum2020">Electoral Commission New Zealand 2020</a>)</span>. Thus, the sets of voters that the two bars and the four bar segments represent overlap.</p>
<p>In general, there is nothing inherently wrong with the plot above. Non-disjoint representations of the data can work well for certain data types such as set-typed data <span class="citation">(see e.g. <a href="#ref-alsallakh2014">Alsallakh et al. 2014</a>)</span>. In the context of static data visualization, plots like these can serve useful roles. However, even here, there is a simple way of representing the same data in a disjoint way - draw two separate plots:</p>
<div class="figure"><span style="display:block;" id="fig:unnamed-chunk-2"></span>
<img src="figures/referendum-bijection.png" alt="Non-disjoint data representations can often be turned into disjoint ones. The figure again shows the vote share in the combined 2020 New Zealand referendum on euthanasia and cannabis, however, now each issue is plotted in a separate plot, and thus each geometric object in each plot represents a unique subset of ballots/voters." width="750" />
<p class="caption">
Figure 3.7: Non-disjoint data representations can often be turned into disjoint ones. The figure again shows the vote share in the combined 2020 New Zealand referendum on euthanasia and cannabis, however, now each issue is plotted in a separate plot, and thus each geometric object in each plot represents a unique subset of ballots/voters.
</p>
</div>
<p>Why should we care about whether our representations of the data are disjoint or not? I argue that, for many types of plots, disjointness presents a fundamentally better mental model: each geometric object encodes one unique set of observational units. Conversely, if the objects in our plots do not represent disjoint subsets, then we need to keep an additional model of <em>how</em> they are related in our head.</p>
<p>This issue is particularly important in interactive visualization. The natural correspondence between geometric objects and disjoint subsets of the data makes certain interactions more intuitive, and conversely, overlapping subsets induce surprising behavior. For instance, when a user clicks on a bar in a linked barplot, they might be surprised if parts of the other bars within the same plot get highlighted as well: they intended to highlight <em>that</em> bar, not the others. Likewise, when querying, if our objects do not represent disjoint subsets of the data, we have to think about what querying means: are we querying the objects or the cases corresponding to the objects? Disjoint partitions simplify our mental model, and this may be the reason why some authors discuss interactive features in the context of partitions <span class="citation">(see e.g. <a href="#ref-buja1996">Buja, Cook, and Swayne 1996</a>; <a href="#ref-keim2002">Keim 2002</a>)</span>.</p>
<p>SQL aggregation queries (<code>GROUP BY</code>) are based on partitions <span class="citation">(<a href="#ref-hellerstein1999">Hellerstein et al. 1999</a>)</span>.</p>
</div>
<div id="plots-as-partitions" class="section level4 hasAnchor" number="3.2.1.3">
<h4><span class="header-section-number">3.2.1.3</span> Plots as partitions<a href="problem-set.html#plots-as-partitions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In the two preceding sections, I have argued the plots in our interactive data visualization system should have have two fundamental properties:</p>
<ul>
<li>Plots should show the full data (surjective mapping)</li>
<li>Geometric objects within these plots should represent distinct subsets (disjoint parts)</li>
</ul>
<p>These two properties suggest a fundamental model for plots: that of <a href="#Partitions">partitions</a>. Specifically, I propose the following definition of a <em>regular plot</em>:</p>
<div class="definition">
<p><span id="def:unlabeled-div-1" class="definition"><strong>Definition 3.1  (Regular plot) </strong></span>Regular plot is a plot where the geometric objects within one layer represent a partition of the data, such that there is a natural bijection between these objects and (possibly aggregated) parts of the original data.</p>
</div>
<p>While, I have not been able to find references explicitly conceptualizing plots as partitions, some data visualization researchers have used the language of bijections when discussing graphics. For example, <span class="citation">Dastani (<a href="#ref-dastani2002">2002</a>)</span> discusses plots as bijections (homomorphisms) between data tables and visual attribute tables, however, this is already in the context of aggregated data (e.g. rows of the data table for barplot already being sums/counts). Similarly, <span class="citation">Ziemkiewicz and Kosara (<a href="#ref-ziemkiewicz2009">2009</a>)</span> and <span class="citation">Vickers, Faith, and Rossiter (<a href="#ref-vickers2012">2012</a>)</span> argued that, in order to be visually unambiguous, plots should represent bijections of the underlying data. However, under this strict view, only one-to-one representations of the data such as scatterplots and parallel coordinate plots would be permitted <span class="citation">(and the authors do admit that aggregation can at times present an acceptable trade-off, despite the information loss, <a href="#ref-ziemkiewicz2009">Ziemkiewicz and Kosara 2009</a>)</span>.</p>
<p>The approach I take is slightly different. Instead of modeling plots as bijections between cases and the geometric objects, I model them as bijections between <em>parts of data</em> and the geometric objects. In other words, the bijection is not between rows of the original data table and the geometric objects, but between subtables of the original data table and the geometric objects. This approach has the advantage that aggregation can be considered as part of the bijection.</p>
<p>Finally, Wilkinson <span class="citation">(<a href="#ref-wilkinson2012">2012</a>, pp 210)</span> and <span class="citation">Keim (<a href="#ref-keim2002">2002</a>)</span> have linked stacked plots to (hierarchical) partitions.</p>
</div>
<div id="partitions-and-products" class="section level4 hasAnchor" number="3.2.1.4">
<h4><span class="header-section-number">3.2.1.4</span> Partitions and products<a href="problem-set.html#partitions-and-products" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>In a typical interactive plot, the data will be partitioned across multiple dimensions. To give a concrete example, suppose we want to draw the following barplot:</p>
<p><img src="figures/barplot-partitions-products.png" width="750" /></p>
<p>We start with the following data, which includes a categorical variable (<code>group</code>) that we will plot along the x-axis, a variable representing selection status (<code>selection</code>) that we will color the bar segments with, and a continuous variable that we want to summarize (<code>value</code>):</p>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
21
</td>
</tr>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
10
</td>
</tr>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
13
</td>
</tr>
</tbody>
</table>
<p>To draw the individual bar segments, we need to sum the <code>value</code> variable across the cases corresponding to each segment. To do this, we first need to split our data into multiple small disjoint subsets according to the product of <code>group</code> and <code>selection</code> variables:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="problem-set.html#cb1-1" tabindex="-1"></a><span class="co"># Using paste0() here to simulate a product of two factors</span></span>
<span id="cb1-2"><a href="problem-set.html#cb1-2" tabindex="-1"></a>product_factor <span class="ot">&lt;-</span> <span class="fu">paste0</span>(df<span class="sc">$</span>group, df<span class="sc">$</span>selection)</span>
<span id="cb1-3"><a href="problem-set.html#cb1-3" tabindex="-1"></a>split_dfs <span class="ot">&lt;-</span> <span class="fu">split</span>(df, product_factor)</span>
<span id="cb1-4"><a href="problem-set.html#cb1-4" tabindex="-1"></a><span class="fu">render_tables</span>(split_dfs)</span></code></pre></div>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
21
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
10
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
15
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
6
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
15
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
12
</td>
</tr>
<tr>
<td style="text-align:left;">
8
</td>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
13
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>We could then summarize each small data set by summing <code>value</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="problem-set.html#cb2-1" tabindex="-1"></a>summarized_dfs <span class="ot">&lt;-</span> <span class="fu">lapply</span>(split_dfs, <span class="cf">function</span>(x) {</span>
<span id="cb2-2"><a href="problem-set.html#cb2-2" tabindex="-1"></a>  <span class="fu">aggregate</span>(value <span class="sc">~</span> ., <span class="at">data =</span> x, sum)</span>
<span id="cb2-3"><a href="problem-set.html#cb2-3" tabindex="-1"></a>})</span>
<span id="cb2-4"><a href="problem-set.html#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="problem-set.html#cb2-5" tabindex="-1"></a><span class="fu">render_tables</span>(summarized_dfs)</span></code></pre></div>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
33
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
10
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
9
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
15
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
15
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
25
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>Finally, to “stack” the segments on top of each other, we need to combine the summaries back together, according to the levels of <code>group</code> variable, and take the cumulative sum:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="problem-set.html#cb3-1" tabindex="-1"></a>grouped_dfs <span class="ot">&lt;-</span> <span class="fu">split</span>(summarized_dfs, <span class="fu">sapply</span>(summarized_dfs, <span class="cf">function</span>(x) x<span class="sc">$</span>group))</span>
<span id="cb3-2"><a href="problem-set.html#cb3-2" tabindex="-1"></a>stacked_dfs <span class="ot">&lt;-</span> <span class="fu">lapply</span>(grouped_dfs, <span class="cf">function</span>(x) {</span>
<span id="cb3-3"><a href="problem-set.html#cb3-3" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, x)</span>
<span id="cb3-4"><a href="problem-set.html#cb3-4" tabindex="-1"></a>  x<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">cumsum</span>(x<span class="sc">$</span>value)</span>
<span id="cb3-5"><a href="problem-set.html#cb3-5" tabindex="-1"></a>  <span class="fu">rownames</span>(x) <span class="ot">&lt;-</span> <span class="cn">NULL</span></span>
<span id="cb3-6"><a href="problem-set.html#cb3-6" tabindex="-1"></a>  x</span>
<span id="cb3-7"><a href="problem-set.html#cb3-7" tabindex="-1"></a>})</span>
<span id="cb3-8"><a href="problem-set.html#cb3-8" tabindex="-1"></a></span>
<span id="cb3-9"><a href="problem-set.html#cb3-9" tabindex="-1"></a><span class="fu">render_tables</span>(stacked_dfs)</span></code></pre></div>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
33
</td>
</tr>
<tr>
<td style="text-align:left;">
A
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
43
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
9
</td>
</tr>
<tr>
<td style="text-align:left;">
B
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
24
</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<table class="table" style="color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
group
</th>
<th style="text-align:left;">
selection
</th>
<th style="text-align:right;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:right;">
15
</td>
</tr>
<tr>
<td style="text-align:left;">
C
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:right;">
40
</td>
</tr>
</tbody>
</table>
<p>Now, we can combine the tables into one data set and render:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="problem-set.html#cb4-1" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, stacked_dfs)</span>
<span id="cb4-2"><a href="problem-set.html#cb4-2" tabindex="-1"></a>combined_df<span class="sc">$</span>selection <span class="ot">&lt;-</span> <span class="fu">factor</span>(combined_df<span class="sc">$</span>selection, <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">1</span>))</span>
<span id="cb4-3"><a href="problem-set.html#cb4-3" tabindex="-1"></a><span class="co"># Need to reverse data order for ggplot2 to layer segments appropriately</span></span>
<span id="cb4-4"><a href="problem-set.html#cb4-4" tabindex="-1"></a>combined_df <span class="ot">&lt;-</span> combined_df[<span class="dv">6</span><span class="sc">:</span><span class="dv">1</span>, ] </span>
<span id="cb4-5"><a href="problem-set.html#cb4-5" tabindex="-1"></a></span>
<span id="cb4-6"><a href="problem-set.html#cb4-6" tabindex="-1"></a><span class="fu">ggplot</span>(combined_df, <span class="fu">aes</span>(<span class="at">x =</span> group, <span class="at">y =</span> value, <span class="at">fill =</span> selection)) <span class="sc">+</span></span>
<span id="cb4-7"><a href="problem-set.html#cb4-7" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">position =</span> <span class="fu">position_identity</span>(), <span class="at">col =</span> <span class="st">&quot;white&quot;</span>)</span></code></pre></div>
<p><img src="figures/barplot-partitions-products.png" width="750" /></p>
<p>Now, we have shown how we can compute summary statistics for a stacked barplot using a simple split-apply-combine pipeline <span class="citation">(<a href="#ref-wickham2011">Wickham 2011</a>)</span>. This is in fact what happens implicitly in most <code>ggplot2</code> plots:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="problem-set.html#cb5-1" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(x, y, <span class="at">fill =</span> fill)) <span class="sc">+</span></span>
<span id="cb5-2"><a href="problem-set.html#cb5-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code></pre></div>
<p>In the call above, we partition the data set by the Cartesian product of the <code>x</code>, <code>y</code>, and <code>fill</code> variables. That is, we break the data into parts based on the unique combinations of these variables, and then compute whatever statistical transformation we need. See the following comment from the <a href="https://github.com/tidyverse/ggplot2/blob/f46805349d6ca8ca7a99f8966cfa0f29279c2f6c/R/grouping.R#L7"><code>ggplot2</code> documentation</a> <span class="citation">(<a href="#ref-wickham2016">Wickham 2016</a>)</span>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="problem-set.html#cb6-1" tabindex="-1"></a><span class="co"># If the `group` variable is not present, then a new group</span></span>
<span id="cb6-2"><a href="problem-set.html#cb6-2" tabindex="-1"></a><span class="co"># variable is generated from the interaction of all discrete (factor or</span></span>
<span id="cb6-3"><a href="problem-set.html#cb6-3" tabindex="-1"></a><span class="co"># character) vectors, excluding `label`.</span></span></code></pre></div>
</div>
<div id="limits-of-simple-product-partitions" class="section level4 hasAnchor" number="3.2.1.5">
<h4><span class="header-section-number">3.2.1.5</span> Limits of simple product partitions<a href="problem-set.html#limits-of-simple-product-partitions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For many types of plots, the simple strategy of taking products of factors to form a single “flat” partition of the data works reasonably well. However, for other types of plots, this flat model is not enough.</p>
<p>To give a concrete example, let’s turn back to the barplot from the section <a href="problem-set.html#plots-as-partitions">3.2.1.3</a>. To draw the barplot, we first split our data into smaller tables, summarized each table by summing up the values, stacked the summaries by taking their cumulative sum, and finally used these to draw the bar segments. This gave us a good visualization for comparing absolute counts across the categories. However, what if we wanted to compare proportions?</p>
<p>It turns out there is another type of visualization, called spineplot, which can be used to represent the same underlying as a barplot, however, is much more useful for comparing proportions:</p>
<div class="figure"><span style="display:block;" id="fig:barplot-spineplot"></span>
<img src="figures/barplot-spineplot.png" alt="The same underlying data represented as a barplot (left) and a spineplot (right)." width="750" />
<p class="caption">
Figure 3.8: The same underlying data represented as a barplot (left) and a spineplot (right).
</p>
</div>
<p>A spineplot represents the same underlying statistic as a barplot (usually sums of counts). However, unlike in barplot, where the underlying statistic gets mapped to the y-axis position/bar height, in spineplot, the underlying summary statistic gets mapped to two aesthetics: the y-axis position and the bar width. Further, the y-axis position gets normalized, such that the heights of the different segments add up to one. The result is a visualization that makes it easy to compare relative proportions across the categories.</p>
<p>The fact that the spineplot makes it easy to see relative proportions makes it a very useful visualization. Notice how, in Figure <a href="problem-set.html#fig:barplot-spineplot">3.8</a>, the spineplot makes it much easier to see that the proportions of the red cases are same across the B and C groups. Thus, spineplot is a definitely desirable type of representation for categorical data, especially if we can use interactiveity easily switch between it and the barplot.</p>
<p>However, despite the fact that barplot and spineplot are closely related visualizations, turning one into the other is not always a trivial exercise. Specifically, many declarative data visualization systems lack simple syntax for creating spineplots. For example, in <code>ggplot2</code>, there is currently no simple declarative way to define a spineplot. To create the right panel in Figure <a href="problem-set.html#fig:barplot-spineplot">3.8</a>, the data had to first be wrangled into the right shape outside of the <code>ggplot2</code> call, and the entire process took over 10 lines of code (using standard <code>dplyr</code> syntax).</p>
<p>Why are spineplots tricky? The reason is that they force us to confront the hierarchical nature of graphics. Specifically, in a spineplot, the x- and y-axes represent the same data, however, this data is summarized and transformed along different levels of aggregation:</p>
<ul>
<li>Along the x-axis, we stack the summaries <em>across the levels of a single factor</em></li>
<li>Along the y-axis, we stack the summaries <em>across the levels of a product of two factors</em> and normalize them by the values <em>within the levels of the parent factor</em>.</li>
</ul>
<p>So, in a spineplot, it is not enough to simply break our data into <span class="math inline">\(j \cdot k\)</span> tables; instead, we need to break it into <span class="math inline">\(j\)</span> tables on one level, <span class="math inline">\(j \cdot k\)</span> tables on another level, and preserve this hierarchical relationship in some way, such that</p>
</div>
<div id="partitions-and-hierarchy" class="section level4 hasAnchor" number="3.2.1.6">
<h4><span class="header-section-number">3.2.1.6</span> Partitions and hierarchy<a href="problem-set.html#partitions-and-hierarchy" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><span class="citation">Keim (<a href="#ref-keim2002">2002</a>)</span> stacked plots are suited for hierarchically-partitioned data.</p>
</div>
<div id="partition-data-structures" class="section level4 hasAnchor" number="3.2.1.7">
<h4><span class="header-section-number">3.2.1.7</span> Partition data structures<a href="problem-set.html#partition-data-structures" class="anchor-section" aria-label="Anchor link to header"></a></h4>
</div>
</div>
<div id="computing-summaries" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Computing summaries<a href="problem-set.html#computing-summaries" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>After we have partitioned our data, we need a way to summarize each part by a set of summary statistics. Moreover, since the partitions of our data (may) form a hierarchy, we also need a way of referring to parts across the levels of the hierarchy.</p>
<div id="reducers" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Reducers<a href="problem-set.html#reducers" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Suppose we are summarizing a part consisting of <span class="math inline">\(n\)</span> data points.</p>
</div>
</div>
</div>
<div id="scaling" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Scaling<a href="problem-set.html#scaling" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Information needs to be encoded in visual attributes <span class="citation">(<a href="#ref-cleveland1985">Cleveland 1985</a>)</span></p>
<p>Transformation is a critical tool for visualization or for any other mode of data analysis
because it can substantially simplify the structure of a set of data <span class="citation">(<a href="#ref-cleveland1993">Cleveland 1993, 48</a>)</span></p>

</div>
</div>
<h3> References<a href="references.html#references" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-abadi2013" class="csl-entry">
Abadi, Daniel, Peter Boncz, Stavros Harizopoulos, Stratos Idreos, Samuel Madden, et al. 2013. <span>“The Design and Implementation of Modern Column-Oriented Database Systems.”</span> <em>Foundations and Trends<span></span> in Databases</em> 5 (3): 197–280.
</div>
<div id="ref-acton2014" class="csl-entry">
Acton, Mike. 2014. <span>“Data-Oriented Design and c++.”</span> <em>Luento. CppCon</em>. <a href="https://www.youtube.com/watch?v=rX0ItVEVjHc">https://www.youtube.com/watch?v=rX0ItVEVjHc</a>.
</div>
<div id="ref-alsallakh2014" class="csl-entry">
Alsallakh, Bilal, Luana Micallef, Wolfgang Aigner, Helwig Hauser, Silvia Miksch, and Peter Rodgers. 2014. <span>“Visualizing Sets and Set-Typed Data: State-of-the-Art and Future Challenges.”</span> <em>Eurographics Conference on Visualization (EuroVis)</em>.
</div>
<div id="ref-bertin1983" class="csl-entry">
Bertin, Jacques. 1983. <em>Semiology of Graphics</em>. University of Wisconsin press.
</div>
<div id="ref-bostock2022" class="csl-entry">
Bostock, Mike. 2022. <span>“D3.js - Data-Driven Documents.”</span> <a href="https://d3js.org">https://d3js.org</a>.
</div>
<div id="ref-bouchet-valat2023" class="csl-entry">
Bouchet-Valat, Milan, and Bogumił Kamiński. 2023. <span>“DataFrames.jl: Flexible and Fast Tabular Data in Julia.”</span> <em>Journal of Statistical Software</em> 107 (September): 1–32. <a href="https://doi.org/10.18637/jss.v107.i04">https://doi.org/10.18637/jss.v107.i04</a>.
</div>
<div id="ref-buja1996" class="csl-entry">
Buja, Andreas, Dianne Cook, and Deborah F Swayne. 1996. <span>“Interactive High-Dimensional Data Visualization.”</span> <em>Journal of Computational and Graphical Statistics</em> 5 (1): 78–99.
</div>
<div id="ref-cleveland1985" class="csl-entry">
Cleveland, William S. 1985. <em>The Elements of Graphing Data</em>. Wadsworth Publ. Co.
</div>
<div id="ref-cleveland1993" class="csl-entry">
———. 1993. <em>Visualizing Data</em>. Hobart press.
</div>
<div id="ref-dastani2002" class="csl-entry">
Dastani, Mehdi. 2002. <span>“The Role of Visual Perception in Data Visualization.”</span> <em>Journal of Visual Languages &amp; Computing</em> 13 (6): 601–22.
</div>
<div id="ref-referendum2020" class="csl-entry">
Electoral Commission New Zealand. 2020. <span>“Official Referendum Results Released.”</span> <a href="https://elections.nz/media-and-news/2020/official-referendum-results-released">https://elections.nz/media-and-news/2020/official-referendum-results-released</a>.
</div>
<div id="ref-election2023" class="csl-entry">
———. 2023. <span>“E9 Statistics - Overall Results.”</span> <a href="https://www.electionresults.govt.nz/electionresults_2023/index.html">https://www.electionresults.govt.nz/electionresults_2023/index.html</a>.
</div>
<div id="ref-franconeri2021" class="csl-entry">
Franconeri, Steven L, Lace M Padilla, Priti Shah, Jeffrey M Zacks, and Jessica Hullman. 2021. <span>“The Science of Visual Data Communication: What Works.”</span> <em>Psychological Science in the Public Interest</em> 22 (3): 110–61.
</div>
<div id="ref-hellerstein1999" class="csl-entry">
Hellerstein, J. M., R. Avnur, A. Chou, C. Hidber, C. Olston, and V. Raman. 1999. <span>“<span class="nocase">Interactive data analysis: the Control project</span>.”</span> <em>Computer</em> 32 (8): 51–59. <a href="https://doi.org/10.1109/2.781635">https://doi.org/10.1109/2.781635</a>.
</div>
<div id="ref-keim2002" class="csl-entry">
Keim, Daniel A. 2002. <span>“Information Visualization and Visual Data Mining.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 8 (1): 1–8.
</div>
<div id="ref-kelley2023" class="csl-entry">
Kelley, Andew. 2023. <span>“A Practical Guide to Applying Data Oriented Design (DoD).”</span> <em>Handmade Seattle</em>. <a href="https://www.youtube.com/watch?v=IroPQ150F6c">https://www.youtube.com/watch?v=IroPQ150F6c</a>.
</div>
<div id="ref-muller2023" class="csl-entry">
Müller, Kirill, and Hadley Wickham. 2023. <em>Tibble: Simple Data Frames</em>. <a href="https://CRAN.R-project.org/package=tibble">https://CRAN.R-project.org/package=tibble</a>.
</div>
<div id="ref-pandas2024" class="csl-entry">
Pandas Core Team. 2024. <span>“DataFrame <span>—</span> Pandas 2.2.3 Documentation.”</span> <a href="https://pandas.pydata.org/docs/reference/frame.html">https://pandas.pydata.org/docs/reference/frame.html</a>.
</div>
<div id="ref-r2024" class="csl-entry">
R Core Team. 2024. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-rentzsch2005" class="csl-entry">
Rentzsch, Jonathan. 2005. <span>“Data Alignment: Straighten up and Fly Right.”</span> <em>IBM Developer</em>. <a href="https://developer.ibm.com/articles/pa-dalign">https://developer.ibm.com/articles/pa-dalign</a>.
</div>
<div id="ref-polars2024" class="csl-entry">
Team, Polars Core. 2024. <span>“Index - Polars User Guide.”</span> <a href="https://docs.pola.rs">https://docs.pola.rs</a>.
</div>
<div id="ref-tierney2023" class="csl-entry">
Tierney, Nicholas, and Dianne Cook. 2023. <span>“<span class="nocase">Expanding Tidy Data Principles to Facilitate Missing Data Exploration, Visualization and Assessment of Imputations</span>.”</span> <em>J. Stat. Soft.</em> 105 (February): 1–31. <a href="https://doi.org/10.18637/jss.v105.i07">https://doi.org/10.18637/jss.v105.i07</a>.
</div>
<div id="ref-tufte2001" class="csl-entry">
Tufte, Edward R. 2001. <em>The Visual Display of Quantitative Information</em>. Cheshire, Connecticut: Graphics Press LLC.
</div>
<div id="ref-tukey1993" class="csl-entry">
Tukey, John W. 1993. <span>“Graphic Comparisons of Several Linked Aspects: Alternatives and Suggested Principles.”</span> <em>Journal of Computational and Graphical Statistics</em> 2 (1): 1–33.
</div>
<div id="ref-unwin1996" class="csl-entry">
Unwin, Antony, George Hawkins, Heike Hofmann, and Bernd Siegl. 1996. <span>“<span class="nocase">Interactive Graphics for Data Sets with Missing Values<span>—</span>MANET</span>.”</span> <em>J. Comput. Graph. Stat.</em>, June. <a href="https://www.tandfonline.com/doi/abs/10.1080/10618600.1996.10474700">https://www.tandfonline.com/doi/abs/10.1080/10618600.1996.10474700</a>.
</div>
<div id="ref-velleman1993" class="csl-entry">
Velleman, Paul F, and Leland Wilkinson. 1993. <span>“Nominal, Ordinal, Interval, and Ratio Typologies Are Misleading.”</span> <em>The American Statistician</em> 47 (1): 65–72.
</div>
<div id="ref-vickers2012" class="csl-entry">
Vickers, Paul, Joe Faith, and Nick Rossiter. 2012. <span>“Understanding Visualization: A Formal Approach Using Category Theory and Semiotics.”</span> <em>IEEE Transactions on Visualization and Computer Graphics</em> 19 (6): 1048–61.
</div>
<div id="ref-wickham2011" class="csl-entry">
Wickham, Hadley. 2011. <span>“The Split-Apply-Combine Strategy for Data Analysis.”</span> <em>Journal of Statistical Software</em> 40: 1–29.
</div>
<div id="ref-wickham2016" class="csl-entry">
———. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. Springer-Verlag New York. <a href="https://ggplot2.tidyverse.org">https://ggplot2.tidyverse.org</a>.
</div>
<div id="ref-wilke2019" class="csl-entry">
Wilke, Claus O. 2019. <em>Fundamentals of Data Visualization: A Primer on Making Informative and Compelling Figures</em>. O’Reilly Media.
</div>
<div id="ref-wilkinson2012" class="csl-entry">
Wilkinson, Leland. 2012. <em>The Grammar of Graphics</em>. Springer.
</div>
<div id="ref-ziemkiewicz2009" class="csl-entry">
Ziemkiewicz, Caroline, and Robert Kosara. 2009. <span>“Embedding Information Visualization Within Visual Representation.”</span> In <em>Advances in Information and Intelligent Systems</em>, 307–26. Springer.
</div>
<div id="ref-zig2024" class="csl-entry">
Zig Software Foundation. 2024. <span>“Documentation - the Zig Programming Language.”</span> <a href="https://ziglang.org/documentation/master">https://ziglang.org/documentation/master</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="mathematical-theory.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
